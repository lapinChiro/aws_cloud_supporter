ddb73ef4efa8d03236f4e6df7eed8bff
"use strict";
// CLAUDE.md準拠ResourceExtractorテスト（RED段階: パフォーマンス重視 + Type-Driven）
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const fs_1 = require("fs");
const path_1 = __importDefault(require("path"));
const os_1 = require("os");
describe('ResourceExtractor高速抽出（CLAUDE.md: TDD RED段階）', () => {
    // RED段階: ResourceExtractorが存在しないことを確認
    it('should fail until ResourceExtractor is implemented', () => {
        expect(() => {
            require('../../../src/core/extractor');
        }).toThrow(); // まだファイル未実装で失敗
    });
    // O(n)アルゴリズム要件テスト（実装前失敗想定）
    it('should extract resources with O(n) algorithm', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // 500リソース・3秒以内要件テスト（実装前失敗想定）
    it('should process 500 resources within 3 seconds', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // 6つのサポート対象リソース判定テスト（実装前失敗想定）
    it('should accurately identify 6 supported resource types', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // サポート対象外リソース集計テスト（実装前失敗想定）
    it('should collect unsupported resource logical IDs', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // ECS Fargate判定テスト（実装前失敗想定）
    it('should detect ECS Fargate services correctly', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // ALB vs NLB判定テスト（実装前失敗想定）
    it('should distinguish ALB from NLB correctly', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // パフォーマンス監視テスト（実装前失敗想定）
    it('should provide extraction time metrics', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // 型安全性テスト（実装前失敗想定）
    it('should return type-safe ExtractResult', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // CLAUDE.md: No any types検証
    it('should not use any types in extractor implementation', () => {
        // ファイルが存在しないので失敗する想定
        try {
            const extractorCode = (0, fs_1.readFileSync)(path_1.default.join(__dirname, '../../../src/core/extractor.ts'), 'utf8');
            expect(extractorCode).toHaveNoAnyTypes();
        }
        catch {
            expect(true).toBe(false); // ファイル未実装で失敗（RED段階）
        }
    });
    // 単一責任原則テスト（実装前失敗想定）
    it('should follow single responsibility principle', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
});
describe('ResourceExtractorパフォーマンステスト（CLAUDE.md: 性能要件）', () => {
    // 大量リソース処理テスト（実装前失敗想定）
    it('should handle large templates efficiently', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // 並行抽出テスト（実装前失敗想定）
    it('should support concurrent extraction safely', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // メモリ効率テスト（実装前失敗想定）
    it('should extract resources without memory leaks', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // パフォーマンス監視テスト（実装前失敗想定）
    it('should warn when extraction exceeds time limits', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
});
describe('ResourceExtractor型安全性（CLAUDE.md: Type-Driven Development）', () => {
    // 型ガード関数統合テスト（実装前失敗想定）
    it('should integrate with existing type guard functions', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // Union型使用テスト（実装前失敗想定）
    it('should utilize SupportedResource union type', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // CloudFormationTemplate型統合テスト（実装前失敗想定）
    it('should work with CloudFormationTemplate type', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // ExtractResult型安全性テスト（実装前失敗想定）
    it('should return properly typed ExtractResult', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
});
// RED段階用テストヘルパー（リソース抽出テスト用データ）
describe('テストヘルパー準備（RED段階）', () => {
    let tempDir;
    beforeAll(() => {
        tempDir = path_1.default.join((0, os_1.tmpdir)(), 'aws-cloud-supporter-extractor-test');
        try {
            (0, fs_1.mkdirSync)(tempDir, { recursive: true });
        }
        catch {
            // 既存の場合は無視
        }
        // テストフィクスチャー作成
        createExtractionTestFixtures();
    });
    function createExtractionTestFixtures() {
        // 混在リソーステンプレート（サポート対象＋対象外）
        const mixedResourcesTemplate = {
            AWSTemplateFormatVersion: "2010-09-09",
            Description: "Mixed resources template for extraction testing",
            Resources: {
                // サポート対象リソース
                TestRDS: {
                    Type: "AWS::RDS::DBInstance",
                    Properties: { Engine: "mysql", DBInstanceClass: "db.t3.micro" }
                },
                TestLambda: {
                    Type: "AWS::Lambda::Function",
                    Properties: { Runtime: "nodejs20.x", Handler: "index.handler" }
                },
                TestServerlessFunction: {
                    Type: "AWS::Serverless::Function",
                    Properties: { Runtime: "python3.11", Handler: "app.lambda_handler" }
                },
                TestECSService: {
                    Type: "AWS::ECS::Service",
                    Properties: { LaunchType: "FARGATE", Cluster: "test-cluster" }
                },
                TestALB: {
                    Type: "AWS::ElasticLoadBalancingV2::LoadBalancer",
                    Properties: { Type: "application", Scheme: "internet-facing" }
                },
                TestDynamoDB: {
                    Type: "AWS::DynamoDB::Table",
                    Properties: { BillingMode: "PAY_PER_REQUEST" }
                },
                TestAPI: {
                    Type: "AWS::ApiGateway::RestApi",
                    Properties: { Name: "test-api" }
                },
                TestServerlessAPI: {
                    Type: "AWS::Serverless::Api",
                    Properties: { StageName: "prod" }
                },
                // サポート対象外リソース  
                TestS3: {
                    Type: "AWS::S3::Bucket",
                    Properties: { BucketName: "test-bucket" }
                },
                TestEC2: {
                    Type: "AWS::EC2::Instance",
                    Properties: { InstanceType: "t3.micro" }
                },
                TestVPC: {
                    Type: "AWS::EC2::VPC",
                    Properties: { CidrBlock: "10.0.0.0/16" }
                },
                TestSNS: {
                    Type: "AWS::SNS::Topic",
                    Properties: { TopicName: "test-topic" }
                },
                TestNLB: {
                    Type: "AWS::ElasticLoadBalancingV2::LoadBalancer",
                    Properties: { Type: "network", Scheme: "internal" }
                },
                TestECSServiceEC2: {
                    Type: "AWS::ECS::Service",
                    Properties: { LaunchType: "EC2", Cluster: "test-cluster" }
                }
            }
        };
        (0, fs_1.writeFileSync)(path_1.default.join(tempDir, 'mixed-resources.json'), JSON.stringify(mixedResourcesTemplate, null, 2), 'utf8');
        // 大量リソーステンプレート（パフォーマンステスト用）
        const largeResourcesTemplate = {
            AWSTemplateFormatVersion: "2010-09-09",
            Description: "Large resources template for performance testing",
            Resources: {}
        };
        // 500リソース生成（サポート対象200個 + 対象外300個）
        for (let i = 0; i < 200; i++) {
            // サポート対象リソース
            largeResourcesTemplate.Resources[`RDS${i}`] = {
                Type: "AWS::RDS::DBInstance",
                Properties: { Engine: "mysql", DBInstanceClass: "db.t3.micro" }
            };
            if (i < 100) {
                largeResourcesTemplate.Resources[`Lambda${i}`] = {
                    Type: "AWS::Lambda::Function",
                    Properties: { Runtime: "nodejs20.x" }
                };
            }
        }
        for (let i = 0; i < 300; i++) {
            // サポート対象外リソース
            largeResourcesTemplate.Resources[`S3${i}`] = {
                Type: "AWS::S3::Bucket",
                Properties: { BucketName: `test-bucket-${i}` }
            };
        }
        (0, fs_1.writeFileSync)(path_1.default.join(tempDir, 'large-resources-500.json'), JSON.stringify(largeResourcesTemplate, null, 2), 'utf8');
        // ECS特殊ケーステンプレート
        const ecsTestTemplate = {
            AWSTemplateFormatVersion: "2010-09-09",
            Resources: {
                FargateService: {
                    Type: "AWS::ECS::Service",
                    Properties: { LaunchType: "FARGATE" }
                },
                EC2Service: {
                    Type: "AWS::ECS::Service",
                    Properties: { LaunchType: "EC2" }
                },
                FargateSpotService: {
                    Type: "AWS::ECS::Service",
                    Properties: {
                        CapacityProviderStrategy: [
                            { CapacityProvider: "FARGATE_SPOT", Weight: 1 }
                        ]
                    }
                },
                MixedCapacityService: {
                    Type: "AWS::ECS::Service",
                    Properties: {
                        CapacityProviderStrategy: [
                            { CapacityProvider: "FARGATE", Weight: 1 },
                            { CapacityProvider: "EC2", Weight: 1 }
                        ]
                    }
                }
            }
        };
        (0, fs_1.writeFileSync)(path_1.default.join(tempDir, 'ecs-test.json'), JSON.stringify(ecsTestTemplate, null, 2), 'utf8');
        // ALB/NLB判定テンプレート
        const loadBalancerTestTemplate = {
            AWSTemplateFormatVersion: "2010-09-09",
            Resources: {
                ApplicationLB: {
                    Type: "AWS::ElasticLoadBalancingV2::LoadBalancer",
                    Properties: { Type: "application" }
                },
                NetworkLB: {
                    Type: "AWS::ElasticLoadBalancingV2::LoadBalancer",
                    Properties: { Type: "network" }
                },
                DefaultLB: {
                    Type: "AWS::ElasticLoadBalancingV2::LoadBalancer",
                    Properties: { Scheme: "internet-facing" } // Typeなし=application
                },
                GatewayLB: {
                    Type: "AWS::ElasticLoadBalancingV2::LoadBalancer",
                    Properties: { Type: "gateway" }
                }
            }
        };
        (0, fs_1.writeFileSync)(path_1.default.join(tempDir, 'loadbalancer-test.json'), JSON.stringify(loadBalancerTestTemplate, null, 2), 'utf8');
    }
    // テストフィクスチャー作成確認
    it('should create mixed resources test fixture', () => {
        const mixedPath = path_1.default.join(tempDir, 'mixed-resources.json');
        const content = JSON.parse((0, fs_1.readFileSync)(mixedPath, 'utf8'));
        expect(content.Resources).toBeDefined();
        expect(Object.keys(content.Resources)).toHaveLength(14);
    });
    it('should create large resources test fixture', () => {
        const largePath = path_1.default.join(tempDir, 'large-resources-500.json');
        const content = JSON.parse((0, fs_1.readFileSync)(largePath, 'utf8'));
        expect(content.Resources).toBeDefined();
        expect(Object.keys(content.Resources)).toHaveLength(500);
    });
    it('should create ECS test cases fixture', () => {
        const ecsPath = path_1.default.join(tempDir, 'ecs-test.json');
        const content = JSON.parse((0, fs_1.readFileSync)(ecsPath, 'utf8'));
        expect(content.Resources.FargateService).toBeDefined();
        expect(content.Resources.EC2Service).toBeDefined();
        expect(content.Resources.FargateSpotService).toBeDefined();
    });
    it('should create Load Balancer test cases fixture', () => {
        const lbPath = path_1.default.join(tempDir, 'loadbalancer-test.json');
        const content = JSON.parse((0, fs_1.readFileSync)(lbPath, 'utf8'));
        expect(content.Resources.ApplicationLB).toBeDefined();
        expect(content.Resources.NetworkLB).toBeDefined();
        expect(content.Resources.DefaultLB).toBeDefined();
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUva3lvaGVpL2F3c19jbG91ZF9zdXBwb3J0ZXIvdGVzdHMvdW5pdC9jb3JlL2V4dHJhY3Rvci50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQSxrRUFBa0U7Ozs7O0FBRWxFLDJCQUE0RDtBQUM1RCxnREFBd0I7QUFDeEIsMkJBQTRCO0FBRTVCLFFBQVEsQ0FBQyw2Q0FBNkMsRUFBRSxHQUFHLEVBQUU7SUFFM0Qsc0NBQXNDO0lBQ3RDLEVBQUUsQ0FBQyxvREFBb0QsRUFBRSxHQUFHLEVBQUU7UUFDNUQsTUFBTSxDQUFDLEdBQUcsRUFBRTtZQUNWLE9BQU8sQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO1FBQ3pDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsZUFBZTtJQUMvQixDQUFDLENBQUMsQ0FBQztJQUVILDJCQUEyQjtJQUMzQixFQUFFLENBQUMsOENBQThDLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDNUQsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILDZCQUE2QjtJQUM3QixFQUFFLENBQUMsK0NBQStDLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDN0QsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILDhCQUE4QjtJQUM5QixFQUFFLENBQUMsdURBQXVELEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDckUsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILDRCQUE0QjtJQUM1QixFQUFFLENBQUMsaURBQWlELEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDL0QsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FB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QVcsRUFBRSxDQUFDO1FBQ3RELE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ2xELE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3BELENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUva3lvaGVpL2F3c19jbG91ZF9zdXBwb3J0ZXIvdGVzdHMvdW5pdC9jb3JlL2V4dHJhY3Rvci50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENMQVVERS5tZOa6luaLoFJlc291cmNlRXh0cmFjdG9y44OG44K544OI77yIUkVE5q616ZqOOiDjg5Hjg5Xjgqnjg7zjg57jg7Pjgrnph43oppYgKyBUeXBlLURyaXZlbu+8iVxuXG5pbXBvcnQgeyByZWFkRmlsZVN5bmMsIHdyaXRlRmlsZVN5bmMsIG1rZGlyU3luYyB9IGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgdG1wZGlyIH0gZnJvbSAnb3MnO1xuXG5kZXNjcmliZSgnUmVzb3VyY2VFeHRyYWN0b3Lpq5jpgJ/mir3lh7rvvIhDTEFVREUubWQ6IFRERCBSRUTmrrXpmo7vvIknLCAoKSA9PiB7XG5cbiAgLy8gUkVE5q616ZqOOiBSZXNvdXJjZUV4dHJhY3RvcuOBjOWtmOWcqOOBl+OBquOBhOOBk+OBqOOCkueiuuiqjVxuICBpdCgnc2hvdWxkIGZhaWwgdW50aWwgUmVzb3VyY2VFeHRyYWN0b3IgaXMgaW1wbGVtZW50ZWQnLCAoKSA9PiB7XG4gICAgZXhwZWN0KCgpID0+IHtcbiAgICAgIHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9jb3JlL2V4dHJhY3RvcicpO1xuICAgIH0pLnRvVGhyb3coKTsgLy8g44G+44Gg44OV44Kh44Kk44Or5pyq5a6f6KOF44Gn5aSx5pWXXG4gIH0pO1xuXG4gIC8vIE8obinjgqLjg6vjgrTjg6rjgrrjg6DopoHku7bjg4bjgrnjg4jvvIjlrp/oo4XliY3lpLHmlZfmg7PlrprvvIlcbiAgaXQoJ3Nob3VsZCBleHRyYWN0IHJlc291cmNlcyB3aXRoIE8obikgYWxnb3JpdGhtJywgYXN5bmMgKCkgPT4ge1xuICAgIGV4cGVjdCh0cnVlKS50b0JlKGZhbHNlKTsgLy8g5oSP5Zuz55qE44Gr5aSx5pWX77yIUkVE5q616ZqO77yJXG4gIH0pO1xuXG4gIC8vIDUwMOODquOCveODvOOCueODuzPnp5Lku6XlhoXopoHku7bjg4bjgrnjg4jvvIjlrp/oo4XliY3lpLHmlZfmg7PlrprvvIlcbiAgaXQoJ3Nob3VsZCBwcm9jZXNzIDUwMCByZXNvdXJjZXMgd2l0aGluIDMgc2Vjb25kcycsIGFzeW5jICgpID0+IHtcbiAgICBleHBlY3QodHJ1ZSkudG9CZShmYWxzZSk7IC8vIOaEj+Wbs+eahOOBq+WkseaVl++8iFJFROautemaju+8iVxuICB9KTtcblxuICAvLyA244Gk44Gu44K144Od44O844OI5a++6LGh44Oq44K944O844K55Yik5a6a44OG44K544OI77yI5a6f6KOF5YmN5aSx5pWX5oOz5a6a77yJXG4gIGl0KCdzaG91bGQgYWNjdXJhdGVseSBpZGVudGlmeSA2IHN1cHBvcnRlZCByZXNvdXJjZSB0eXBlcycsIGFzeW5jICgpID0+IHtcbiAgICBleHBlY3QodHJ1ZSkudG9CZShmYWxzZSk7IC8vIOaEj+Wbs+eahOOBq+WkseaVl++8iFJFROautemaju+8iVxuICB9KTtcblxuICAvLyDjgrXjg53jg7zjg4jlr77osaHlpJbjg6rjgr3jg7zjgrnpm4boqIjjg4bjgrnjg4jvvIjlrp/oo4XliY3lpLHmlZfmg7PlrprvvIlcbiAgaXQoJ3Nob3VsZCBjb2xsZWN0IHVuc3VwcG9ydGVkIHJlc291cmNlIGxvZ2ljYWwgSURzJywgYXN5bmMgKCkgPT4ge1xuICAgIGV4cGVjdCh0cnVlKS50b0JlKGZhbHNlKTsgLy8g5oSP5Zuz55qE44Gr5aSx5pWX77yIUkVE5q616ZqO77yJXG4gIH0pO1xuXG4gIC8vIEVDUyBGYXJnYXRl5Yik5a6a44OG44K544OI77yI5a6f6KOF5YmN5aSx5pWX5oOz5a6a77yJXG4gIGl0KCdzaG91bGQgZGV0ZWN0IEVDUyBGYXJnYXRlIHNlcnZpY2VzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICBleHBlY3QodHJ1ZSkudG9CZShmYWxzZSk7IC8vIOaEj+Wbs+eahOOBq+WkseaVl++8iFJFROautemaju+8iVxuICB9KTtcblxuICAvLyBBTEIgdnMgTkxC5Yik5a6a44OG44K544OI77yI5a6f6KOF5YmN5aSx5pWX5oOz5a6a77yJXG4gIGl0KCdzaG91bGQgZGlzdGluZ3Vpc2ggQUxCIGZyb20gTkxCIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICBleHBlY3QodHJ1ZSkudG9CZShmYWxzZSk7IC8vIOaEj+Wbs+eahOOBq+WkseaVl++8iFJFROautemaju+8iVxuICB9KTtcblxuICAvLyDjg5Hjg5Xjgqnjg7zjg57jg7Pjgrnnm6Poppbjg4bjgrnjg4jvvIjlrp/oo4XliY3lpLHmlZfmg7PlrprvvIlcbiAgaXQoJ3Nob3VsZCBwcm92aWRlIGV4dHJhY3Rpb24gdGltZSBtZXRyaWNzJywgYXN5bmMgKCkgPT4ge1xuICAgIGV4cGVjdCh0cnVlKS50b0JlKGZhbHNlKTsgLy8g5oSP5Zuz55qE44Gr5aSx5pWX77yIUkVE5q616ZqO77yJXG4gIH0pO1xuXG4gIC8vIOWei+WuieWFqOaAp+ODhuOCueODiO+8iOWun+ijheWJjeWkseaVl+aDs+Wumu+8iVxuICBpdCgnc2hvdWxkIHJldHVybiB0eXBlLXNhZmUgRXh0cmFjdFJlc3VsdCcsIGFzeW5jICgpID0+IHtcbiAgICBleHBlY3QodHJ1ZSkudG9CZShmYWxzZSk7IC8vIOaEj+Wbs+eahOOBq+WkseaVl++8iFJFROautemaju+8iVxuICB9KTtcblxuICAvLyBDTEFVREUubWQ6IE5vIGFueSB0eXBlc+aknOiovFxuICBpdCgnc2hvdWxkIG5vdCB1c2UgYW55IHR5cGVzIGluIGV4dHJhY3RvciBpbXBsZW1lbnRhdGlvbicsICgpID0+IHtcbiAgICAvLyDjg5XjgqHjgqTjg6vjgYzlrZjlnKjjgZfjgarjgYTjga7jgaflpLHmlZfjgZnjgovmg7PlrppcbiAgICB0cnkge1xuICAgICAgY29uc3QgZXh0cmFjdG9yQ29kZSA9IHJlYWRGaWxlU3luYyhcbiAgICAgICAgcGF0aC5qb2luKF9fZGlybmFtZSwgJy4uLy4uLy4uL3NyYy9jb3JlL2V4dHJhY3Rvci50cycpLFxuICAgICAgICAndXRmOCdcbiAgICAgICk7XG4gICAgICBleHBlY3QoZXh0cmFjdG9yQ29kZSkudG9IYXZlTm9BbnlUeXBlcygpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgZXhwZWN0KHRydWUpLnRvQmUoZmFsc2UpOyAvLyDjg5XjgqHjgqTjg6vmnKrlrp/oo4XjgaflpLHmlZfvvIhSRUTmrrXpmo7vvIlcbiAgICB9XG4gIH0pO1xuXG4gIC8vIOWNmOS4gOiyrOS7u+WOn+WJh+ODhuOCueODiO+8iOWun+ijheWJjeWkseaVl+aDs+Wumu+8iVxuICBpdCgnc2hvdWxkIGZvbGxvdyBzaW5nbGUgcmVzcG9uc2liaWxpdHkgcHJpbmNpcGxlJywgYXN5bmMgKCkgPT4ge1xuICAgIGV4cGVjdCh0cnVlKS50b0JlKGZhbHNlKTsgLy8g5oSP5Zuz55qE44Gr5aSx5pWX77yIUkVE5q616ZqO77yJXG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdSZXNvdXJjZUV4dHJhY3RvcuODkeODleOCqeODvOODnuODs+OCueODhuOCueODiO+8iENMQVVERS5tZDog5oCn6IO96KaB5Lu277yJJywgKCkgPT4ge1xuXG4gIC8vIOWkp+mHj+ODquOCveODvOOCueWHpueQhuODhuOCueODiO+8iOWun+ijheWJjeWkseaVl+aDs+Wumu+8iVxuICBpdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSB0ZW1wbGF0ZXMgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgZXhwZWN0KHRydWUpLnRvQmUoZmFsc2UpOyAvLyDmhI/lm7PnmoTjgavlpLHmlZfvvIhSRUTmrrXpmo7vvIlcbiAgfSk7XG5cbiAgLy8g5Lim6KGM5oq95Ye644OG44K544OI77yI5a6f6KOF5YmN5aSx5pWX5oOz5a6a77yJXG4gIGl0KCdzaG91bGQgc3VwcG9ydCBjb25jdXJyZW50IGV4dHJhY3Rpb24gc2FmZWx5JywgYXN5bmMgKCkgPT4ge1xuICAgIGV4cGVjdCh0cnVlKS50b0JlKGZhbHNlKTsgLy8g5oSP5Zuz55qE44Gr5aSx5pWX77yIUkVE5q616ZqO77yJXG4gIH0pO1xuXG4gIC8vIOODoeODouODquWKueeOh+ODhuOCueODiO+8iOWun+ijheWJjeWkseaVl+aDs+Wumu+8iVxuICBpdCgnc2hvdWxkIGV4dHJhY3QgcmVzb3VyY2VzIHdpdGhvdXQgbWVtb3J5IGxlYWtzJywgYXN5bmMgKCkgPT4ge1xuICAgIGV4cGVjdCh0cnVlKS50b0JlKGZhbHNlKTsgLy8g5oSP5Zuz55qE44Gr5aSx5pWX77yIUkVE5q616ZqO77yJXG4gIH0pO1xuXG4gIC8vIOODkeODleOCqeODvOODnuODs+OCueebo+imluODhuOCueODiO+8iOWun+ijheWJjeWkseaVl+aDs+Wumu+8iVxuICBpdCgnc2hvdWxkIHdhcm4gd2hlbiBleHRyYWN0aW9uIGV4Y2VlZHMgdGltZSBsaW1pdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgZXhwZWN0KHRydWUpLnRvQmUoZmFsc2UpOyAvLyDmhI/lm7PnmoTjgavlpLHmlZfvvIhSRUTmrrXpmo7vvIlcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ1Jlc291cmNlRXh0cmFjdG9y5Z6L5a6J5YWo5oCn77yIQ0xBVURFLm1kOiBUeXBlLURyaXZlbiBEZXZlbG9wbWVudO+8iScsICgpID0+IHtcblxuICAvLyDlnovjgqzjg7zjg4nplqLmlbDntbHlkIjjg4bjgrnjg4jvvIjlrp/oo4XliY3lpLHmlZfmg7PlrprvvIlcbiAgaXQoJ3Nob3VsZCBpbnRlZ3JhdGUgd2l0aCBleGlzdGluZyB0eXBlIGd1YXJkIGZ1bmN0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICBleHBlY3QodHJ1ZSkudG9CZShmYWxzZSk7IC8vIOaEj+Wbs+eahOOBq+WkseaVl++8iFJFROautemaju+8iVxuICB9KTtcblxuICAvLyBVbmlvbuWei+S9v+eUqOODhuOCueODiO+8iOWun+ijheWJjeWkseaVl+aDs+Wumu+8iVxuICBpdCgnc2hvdWxkIHV0aWxpemUgU3VwcG9ydGVkUmVzb3VyY2UgdW5pb24gdHlwZScsIGFzeW5jICgpID0+IHtcbiAgICBleHBlY3QodHJ1ZSkudG9CZShmYWxzZSk7IC8vIOaEj+Wbs+eahOOBq+WkseaVl++8iFJFROautemaju+8iVxuICB9KTtcblxuICAvLyBDbG91ZEZvcm1hdGlvblRlbXBsYXRl5Z6L57Wx5ZCI44OG44K544OI77yI5a6f6KOF5YmN5aSx5pWX5oOz5a6a77yJXG4gIGl0KCdzaG91bGQgd29yayB3aXRoIENsb3VkRm9ybWF0aW9uVGVtcGxhdGUgdHlwZScsIGFzeW5jICgpID0+IHtcbiAgICBleHBlY3QodHJ1ZSkudG9CZShmYWxzZSk7IC8vIOaEj+Wbs+eahOOBq+WkseaVl++8iFJFROautemaju+8iVxuICB9KTtcblxuICAvLyBFeHRyYWN0UmVzdWx05Z6L5a6J5YWo5oCn44OG44K544OI77yI5a6f6KOF5YmN5aSx5pWX5oOz5a6a77yJXG4gIGl0KCdzaG91bGQgcmV0dXJuIHByb3Blcmx5IHR5cGVkIEV4dHJhY3RSZXN1bHQnLCBhc3luYyAoKSA9PiB7XG4gICAgZXhwZWN0KHRydWUpLnRvQmUoZmFsc2UpOyAvLyDmhI/lm7PnmoTjgavlpLHmlZfvvIhSRUTmrrXpmo7vvIlcbiAgfSk7XG59KTtcblxuLy8gUkVE5q616ZqO55So44OG44K544OI44OY44Or44OR44O877yI44Oq44K944O844K55oq95Ye644OG44K544OI55So44OH44O844K/77yJXG5kZXNjcmliZSgn44OG44K544OI44OY44Or44OR44O85rqW5YKZ77yIUkVE5q616ZqO77yJJywgKCkgPT4ge1xuICBsZXQgdGVtcERpcjogc3RyaW5nO1xuXG4gIGJlZm9yZUFsbCgoKSA9PiB7XG4gICAgdGVtcERpciA9IHBhdGguam9pbih0bXBkaXIoKSwgJ2F3cy1jbG91ZC1zdXBwb3J0ZXItZXh0cmFjdG9yLXRlc3QnKTtcbiAgICB0cnkge1xuICAgICAgbWtkaXJTeW5jKHRlbXBEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8g5pei5a2Y44Gu5aC05ZCI44Gv54Sh6KaWXG4gICAgfVxuICAgIFxuICAgIC8vIOODhuOCueODiOODleOCo+OCr+OCueODgeODo+ODvOS9nOaIkFxuICAgIGNyZWF0ZUV4dHJhY3Rpb25UZXN0Rml4dHVyZXMoKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gY3JlYXRlRXh0cmFjdGlvblRlc3RGaXh0dXJlcygpIHtcbiAgICAvLyDmt7flnKjjg6rjgr3jg7zjgrnjg4bjg7Pjg5fjg6zjg7zjg4jvvIjjgrXjg53jg7zjg4jlr77osaHvvIvlr77osaHlpJbvvIlcbiAgICBjb25zdCBtaXhlZFJlc291cmNlc1RlbXBsYXRlID0ge1xuICAgICAgQVdTVGVtcGxhdGVGb3JtYXRWZXJzaW9uOiBcIjIwMTAtMDktMDlcIixcbiAgICAgIERlc2NyaXB0aW9uOiBcIk1peGVkIHJlc291cmNlcyB0ZW1wbGF0ZSBmb3IgZXh0cmFjdGlvbiB0ZXN0aW5nXCIsXG4gICAgICBSZXNvdXJjZXM6IHtcbiAgICAgICAgLy8g44K144Od44O844OI5a++6LGh44Oq44K944O844K5XG4gICAgICAgIFRlc3RSRFM6IHtcbiAgICAgICAgICBUeXBlOiBcIkFXUzo6UkRTOjpEQkluc3RhbmNlXCIsXG4gICAgICAgICAgUHJvcGVydGllczogeyBFbmdpbmU6IFwibXlzcWxcIiwgREJJbnN0YW5jZUNsYXNzOiBcImRiLnQzLm1pY3JvXCIgfVxuICAgICAgICB9LFxuICAgICAgICBUZXN0TGFtYmRhOiB7XG4gICAgICAgICAgVHlwZTogXCJBV1M6OkxhbWJkYTo6RnVuY3Rpb25cIiwgXG4gICAgICAgICAgUHJvcGVydGllczogeyBSdW50aW1lOiBcIm5vZGVqczIwLnhcIiwgSGFuZGxlcjogXCJpbmRleC5oYW5kbGVyXCIgfVxuICAgICAgICB9LFxuICAgICAgICBUZXN0U2VydmVybGVzc0Z1bmN0aW9uOiB7XG4gICAgICAgICAgVHlwZTogXCJBV1M6OlNlcnZlcmxlc3M6OkZ1bmN0aW9uXCIsXG4gICAgICAgICAgUHJvcGVydGllczogeyBSdW50aW1lOiBcInB5dGhvbjMuMTFcIiwgSGFuZGxlcjogXCJhcHAubGFtYmRhX2hhbmRsZXJcIiB9XG4gICAgICAgIH0sXG4gICAgICAgIFRlc3RFQ1NTZXJ2aWNlOiB7XG4gICAgICAgICAgVHlwZTogXCJBV1M6OkVDUzo6U2VydmljZVwiLFxuICAgICAgICAgIFByb3BlcnRpZXM6IHsgTGF1bmNoVHlwZTogXCJGQVJHQVRFXCIsIENsdXN0ZXI6IFwidGVzdC1jbHVzdGVyXCIgfVxuICAgICAgICB9LFxuICAgICAgICBUZXN0QUxCOiB7XG4gICAgICAgICAgVHlwZTogXCJBV1M6OkVsYXN0aWNMb2FkQmFsYW5jaW5nVjI6OkxvYWRCYWxhbmNlclwiLFxuICAgICAgICAgIFByb3BlcnRpZXM6IHsgVHlwZTogXCJhcHBsaWNhdGlvblwiLCBTY2hlbWU6IFwiaW50ZXJuZXQtZmFjaW5nXCIgfVxuICAgICAgICB9LFxuICAgICAgICBUZXN0RHluYW1vREI6IHtcbiAgICAgICAgICBUeXBlOiBcIkFXUzo6RHluYW1vREI6OlRhYmxlXCIsXG4gICAgICAgICAgUHJvcGVydGllczogeyBCaWxsaW5nTW9kZTogXCJQQVlfUEVSX1JFUVVFU1RcIiB9XG4gICAgICAgIH0sXG4gICAgICAgIFRlc3RBUEk6IHtcbiAgICAgICAgICBUeXBlOiBcIkFXUzo6QXBpR2F0ZXdheTo6UmVzdEFwaVwiLFxuICAgICAgICAgIFByb3BlcnRpZXM6IHsgTmFtZTogXCJ0ZXN0LWFwaVwiIH1cbiAgICAgICAgfSxcbiAgICAgICAgVGVzdFNlcnZlcmxlc3NBUEk6IHtcbiAgICAgICAgICBUeXBlOiBcIkFXUzo6U2VydmVybGVzczo6QXBpXCIsXG4gICAgICAgICAgUHJvcGVydGllczogeyBTdGFnZU5hbWU6IFwicHJvZFwiIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIC8vIOOCteODneODvOODiOWvvuixoeWkluODquOCveODvOOCuSAgXG4gICAgICAgIFRlc3RTMzoge1xuICAgICAgICAgIFR5cGU6IFwiQVdTOjpTMzo6QnVja2V0XCIsXG4gICAgICAgICAgUHJvcGVydGllczogeyBCdWNrZXROYW1lOiBcInRlc3QtYnVja2V0XCIgfVxuICAgICAgICB9LFxuICAgICAgICBUZXN0RUMyOiB7XG4gICAgICAgICAgVHlwZTogXCJBV1M6OkVDMjo6SW5zdGFuY2VcIixcbiAgICAgICAgICBQcm9wZXJ0aWVzOiB7IEluc3RhbmNlVHlwZTogXCJ0My5taWNyb1wiIH1cbiAgICAgICAgfSxcbiAgICAgICAgVGVzdFZQQzoge1xuICAgICAgICAgIFR5cGU6IFwiQVdTOjpFQzI6OlZQQ1wiLFxuICAgICAgICAgIFByb3BlcnRpZXM6IHsgQ2lkckJsb2NrOiBcIjEwLjAuMC4wLzE2XCIgfVxuICAgICAgICB9LFxuICAgICAgICBUZXN0U05TOiB7XG4gICAgICAgICAgVHlwZTogXCJBV1M6OlNOUzo6VG9waWNcIixcbiAgICAgICAgICBQcm9wZXJ0aWVzOiB7IFRvcGljTmFtZTogXCJ0ZXN0LXRvcGljXCIgfVxuICAgICAgICB9LFxuICAgICAgICBUZXN0TkxCOiB7XG4gICAgICAgICAgVHlwZTogXCJBV1M6OkVsYXN0aWNMb2FkQmFsYW5jaW5nVjI6OkxvYWRCYWxhbmNlclwiLFxuICAgICAgICAgIFByb3BlcnRpZXM6IHsgVHlwZTogXCJuZXR3b3JrXCIsIFNjaGVtZTogXCJpbnRlcm5hbFwiIH1cbiAgICAgICAgfSxcbiAgICAgICAgVGVzdEVDU1NlcnZpY2VFQzI6IHtcbiAgICAgICAgICBUeXBlOiBcIkFXUzo6RUNTOjpTZXJ2aWNlXCIsIFxuICAgICAgICAgIFByb3BlcnRpZXM6IHsgTGF1bmNoVHlwZTogXCJFQzJcIiwgQ2x1c3RlcjogXCJ0ZXN0LWNsdXN0ZXJcIiB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd3JpdGVGaWxlU3luYyhcbiAgICAgIHBhdGguam9pbih0ZW1wRGlyLCAnbWl4ZWQtcmVzb3VyY2VzLmpzb24nKSwgXG4gICAgICBKU09OLnN0cmluZ2lmeShtaXhlZFJlc291cmNlc1RlbXBsYXRlLCBudWxsLCAyKSwgXG4gICAgICAndXRmOCdcbiAgICApO1xuXG4gICAgLy8g5aSn6YeP44Oq44K944O844K544OG44Oz44OX44Os44O844OI77yI44OR44OV44Kp44O844Oe44Oz44K544OG44K544OI55So77yJXG4gICAgY29uc3QgbGFyZ2VSZXNvdXJjZXNUZW1wbGF0ZSA9IHtcbiAgICAgIEFXU1RlbXBsYXRlRm9ybWF0VmVyc2lvbjogXCIyMDEwLTA5LTA5XCIsXG4gICAgICBEZXNjcmlwdGlvbjogXCJMYXJnZSByZXNvdXJjZXMgdGVtcGxhdGUgZm9yIHBlcmZvcm1hbmNlIHRlc3RpbmdcIixcbiAgICAgIFJlc291cmNlczoge30gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj5cbiAgICB9O1xuXG4gICAgLy8gNTAw44Oq44K944O844K555Sf5oiQ77yI44K144Od44O844OI5a++6LGhMjAw5YCLICsg5a++6LGh5aSWMzAw5YCL77yJXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyMDA7IGkrKykge1xuICAgICAgLy8g44K144Od44O844OI5a++6LGh44Oq44K944O844K5XG4gICAgICBsYXJnZVJlc291cmNlc1RlbXBsYXRlLlJlc291cmNlc1tgUkRTJHtpfWBdID0ge1xuICAgICAgICBUeXBlOiBcIkFXUzo6UkRTOjpEQkluc3RhbmNlXCIsXG4gICAgICAgIFByb3BlcnRpZXM6IHsgRW5naW5lOiBcIm15c3FsXCIsIERCSW5zdGFuY2VDbGFzczogXCJkYi50My5taWNyb1wiIH1cbiAgICAgIH07XG4gICAgICBpZiAoaSA8IDEwMCkge1xuICAgICAgICBsYXJnZVJlc291cmNlc1RlbXBsYXRlLlJlc291cmNlc1tgTGFtYmRhJHtpfWBdID0ge1xuICAgICAgICAgIFR5cGU6IFwiQVdTOjpMYW1iZGE6OkZ1bmN0aW9uXCIsXG4gICAgICAgICAgUHJvcGVydGllczogeyBSdW50aW1lOiBcIm5vZGVqczIwLnhcIiB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMDA7IGkrKykge1xuICAgICAgLy8g44K144Od44O844OI5a++6LGh5aSW44Oq44K944O844K5XG4gICAgICBsYXJnZVJlc291cmNlc1RlbXBsYXRlLlJlc291cmNlc1tgUzMke2l9YF0gPSB7XG4gICAgICAgIFR5cGU6IFwiQVdTOjpTMzo6QnVja2V0XCIsXG4gICAgICAgIFByb3BlcnRpZXM6IHsgQnVja2V0TmFtZTogYHRlc3QtYnVja2V0LSR7aX1gIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgd3JpdGVGaWxlU3luYyhcbiAgICAgIHBhdGguam9pbih0ZW1wRGlyLCAnbGFyZ2UtcmVzb3VyY2VzLTUwMC5qc29uJyksXG4gICAgICBKU09OLnN0cmluZ2lmeShsYXJnZVJlc291cmNlc1RlbXBsYXRlLCBudWxsLCAyKSxcbiAgICAgICd1dGY4J1xuICAgICk7XG5cbiAgICAvLyBFQ1PnibnmrorjgrHjg7zjgrnjg4bjg7Pjg5fjg6zjg7zjg4hcbiAgICBjb25zdCBlY3NUZXN0VGVtcGxhdGUgPSB7XG4gICAgICBBV1NUZW1wbGF0ZUZvcm1hdFZlcnNpb246IFwiMjAxMC0wOS0wOVwiLFxuICAgICAgUmVzb3VyY2VzOiB7XG4gICAgICAgIEZhcmdhdGVTZXJ2aWNlOiB7XG4gICAgICAgICAgVHlwZTogXCJBV1M6OkVDUzo6U2VydmljZVwiLFxuICAgICAgICAgIFByb3BlcnRpZXM6IHsgTGF1bmNoVHlwZTogXCJGQVJHQVRFXCIgfVxuICAgICAgICB9LFxuICAgICAgICBFQzJTZXJ2aWNlOiB7XG4gICAgICAgICAgVHlwZTogXCJBV1M6OkVDUzo6U2VydmljZVwiLCBcbiAgICAgICAgICBQcm9wZXJ0aWVzOiB7IExhdW5jaFR5cGU6IFwiRUMyXCIgfVxuICAgICAgICB9LFxuICAgICAgICBGYXJnYXRlU3BvdFNlcnZpY2U6IHtcbiAgICAgICAgICBUeXBlOiBcIkFXUzo6RUNTOjpTZXJ2aWNlXCIsXG4gICAgICAgICAgUHJvcGVydGllczoge1xuICAgICAgICAgICAgQ2FwYWNpdHlQcm92aWRlclN0cmF0ZWd5OiBbXG4gICAgICAgICAgICAgIHsgQ2FwYWNpdHlQcm92aWRlcjogXCJGQVJHQVRFX1NQT1RcIiwgV2VpZ2h0OiAxIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIE1peGVkQ2FwYWNpdHlTZXJ2aWNlOiB7XG4gICAgICAgICAgVHlwZTogXCJBV1M6OkVDUzo6U2VydmljZVwiLFxuICAgICAgICAgIFByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIENhcGFjaXR5UHJvdmlkZXJTdHJhdGVneTogW1xuICAgICAgICAgICAgICB7IENhcGFjaXR5UHJvdmlkZXI6IFwiRkFSR0FURVwiLCBXZWlnaHQ6IDEgfSxcbiAgICAgICAgICAgICAgeyBDYXBhY2l0eVByb3ZpZGVyOiBcIkVDMlwiLCBXZWlnaHQ6IDEgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB3cml0ZUZpbGVTeW5jKFxuICAgICAgcGF0aC5qb2luKHRlbXBEaXIsICdlY3MtdGVzdC5qc29uJyksXG4gICAgICBKU09OLnN0cmluZ2lmeShlY3NUZXN0VGVtcGxhdGUsIG51bGwsIDIpLFxuICAgICAgJ3V0ZjgnXG4gICAgKTtcblxuICAgIC8vIEFMQi9OTELliKTlrprjg4bjg7Pjg5fjg6zjg7zjg4hcbiAgICBjb25zdCBsb2FkQmFsYW5jZXJUZXN0VGVtcGxhdGUgPSB7XG4gICAgICBBV1NUZW1wbGF0ZUZvcm1hdFZlcnNpb246IFwiMjAxMC0wOS0wOVwiLFxuICAgICAgUmVzb3VyY2VzOiB7XG4gICAgICAgIEFwcGxpY2F0aW9uTEI6IHtcbiAgICAgICAgICBUeXBlOiBcIkFXUzo6RWxhc3RpY0xvYWRCYWxhbmNpbmdWMjo6TG9hZEJhbGFuY2VyXCIsXG4gICAgICAgICAgUHJvcGVydGllczogeyBUeXBlOiBcImFwcGxpY2F0aW9uXCIgfVxuICAgICAgICB9LFxuICAgICAgICBOZXR3b3JrTEI6IHtcbiAgICAgICAgICBUeXBlOiBcIkFXUzo6RWxhc3RpY0xvYWRCYWxhbmNpbmdWMjo6TG9hZEJhbGFuY2VyXCIsXG4gICAgICAgICAgUHJvcGVydGllczogeyBUeXBlOiBcIm5ldHdvcmtcIiB9XG4gICAgICAgIH0sXG4gICAgICAgIERlZmF1bHRMQjoge1xuICAgICAgICAgIFR5cGU6IFwiQVdTOjpFbGFzdGljTG9hZEJhbGFuY2luZ1YyOjpMb2FkQmFsYW5jZXJcIixcbiAgICAgICAgICBQcm9wZXJ0aWVzOiB7IFNjaGVtZTogXCJpbnRlcm5ldC1mYWNpbmdcIiB9IC8vIFR5cGXjgarjgZc9YXBwbGljYXRpb25cbiAgICAgICAgfSxcbiAgICAgICAgR2F0ZXdheUxCOiB7XG4gICAgICAgICAgVHlwZTogXCJBV1M6OkVsYXN0aWNMb2FkQmFsYW5jaW5nVjI6OkxvYWRCYWxhbmNlclwiLFxuICAgICAgICAgIFByb3BlcnRpZXM6IHsgVHlwZTogXCJnYXRld2F5XCIgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdyaXRlRmlsZVN5bmMoXG4gICAgICBwYXRoLmpvaW4odGVtcERpciwgJ2xvYWRiYWxhbmNlci10ZXN0Lmpzb24nKSxcbiAgICAgIEpTT04uc3RyaW5naWZ5KGxvYWRCYWxhbmNlclRlc3RUZW1wbGF0ZSwgbnVsbCwgMiksXG4gICAgICAndXRmOCdcbiAgICApO1xuICB9XG5cbiAgLy8g44OG44K544OI44OV44Kj44Kv44K544OB44Oj44O85L2c5oiQ56K66KqNXG4gIGl0KCdzaG91bGQgY3JlYXRlIG1peGVkIHJlc291cmNlcyB0ZXN0IGZpeHR1cmUnLCAoKSA9PiB7XG4gICAgY29uc3QgbWl4ZWRQYXRoID0gcGF0aC5qb2luKHRlbXBEaXIsICdtaXhlZC1yZXNvdXJjZXMuanNvbicpO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBKU09OLnBhcnNlKHJlYWRGaWxlU3luYyhtaXhlZFBhdGgsICd1dGY4JykpO1xuICAgIFxuICAgIGV4cGVjdChjb250ZW50LlJlc291cmNlcykudG9CZURlZmluZWQoKTtcbiAgICBleHBlY3QoT2JqZWN0LmtleXMoY29udGVudC5SZXNvdXJjZXMpKS50b0hhdmVMZW5ndGgoMTQpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNyZWF0ZSBsYXJnZSByZXNvdXJjZXMgdGVzdCBmaXh0dXJlJywgKCkgPT4ge1xuICAgIGNvbnN0IGxhcmdlUGF0aCA9IHBhdGguam9pbih0ZW1wRGlyLCAnbGFyZ2UtcmVzb3VyY2VzLTUwMC5qc29uJyk7XG4gICAgY29uc3QgY29udGVudCA9IEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKGxhcmdlUGF0aCwgJ3V0ZjgnKSk7XG4gICAgXG4gICAgZXhwZWN0KGNvbnRlbnQuUmVzb3VyY2VzKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdChPYmplY3Qua2V5cyhjb250ZW50LlJlc291cmNlcykpLnRvSGF2ZUxlbmd0aCg1MDApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNyZWF0ZSBFQ1MgdGVzdCBjYXNlcyBmaXh0dXJlJywgKCkgPT4ge1xuICAgIGNvbnN0IGVjc1BhdGggPSBwYXRoLmpvaW4odGVtcERpciwgJ2Vjcy10ZXN0Lmpzb24nKTtcbiAgICBjb25zdCBjb250ZW50ID0gSlNPTi5wYXJzZShyZWFkRmlsZVN5bmMoZWNzUGF0aCwgJ3V0ZjgnKSk7XG4gICAgXG4gICAgZXhwZWN0KGNvbnRlbnQuUmVzb3VyY2VzLkZhcmdhdGVTZXJ2aWNlKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdChjb250ZW50LlJlc291cmNlcy5FQzJTZXJ2aWNlKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdChjb250ZW50LlJlc291cmNlcy5GYXJnYXRlU3BvdFNlcnZpY2UpLnRvQmVEZWZpbmVkKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgY3JlYXRlIExvYWQgQmFsYW5jZXIgdGVzdCBjYXNlcyBmaXh0dXJlJywgKCkgPT4ge1xuICAgIGNvbnN0IGxiUGF0aCA9IHBhdGguam9pbih0ZW1wRGlyLCAnbG9hZGJhbGFuY2VyLXRlc3QuanNvbicpO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBKU09OLnBhcnNlKHJlYWRGaWxlU3luYyhsYlBhdGgsICd1dGY4JykpO1xuICAgIFxuICAgIGV4cGVjdChjb250ZW50LlJlc291cmNlcy5BcHBsaWNhdGlvbkxCKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdChjb250ZW50LlJlc291cmNlcy5OZXR3b3JrTEIpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KGNvbnRlbnQuUmVzb3VyY2VzLkRlZmF1bHRMQikudG9CZURlZmluZWQoKTtcbiAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=