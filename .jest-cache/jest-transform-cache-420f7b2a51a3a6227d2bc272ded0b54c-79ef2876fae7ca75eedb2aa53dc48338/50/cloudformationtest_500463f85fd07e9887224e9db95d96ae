0329a88d09721841308653f74519bbe1
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
// CLAUDE.md準拠型安全性テスト（RED段階: any型違反検知）
const fs_1 = require("fs");
const path_1 = __importDefault(require("path"));
describe('CloudFormation型定義（CLAUDE.md: No any types）', () => {
    // CLAUDE.md核心原則: No any types検証
    it('should not contain any types in cloudformation.ts', () => {
        // まだファイルが存在しないか、any型を含んでいる場合に失敗させる
        let cloudFormationCode = '';
        try {
            cloudFormationCode = (0, fs_1.readFileSync)(path_1.default.join(__dirname, '../../../src/types/cloudformation.ts'), 'utf8');
        }
        catch (error) {
            // ファイルが存在しない場合は失敗
            fail('cloudformation.ts not found - need to implement');
        }
        // any型が含まれている場合は失敗
        expect(cloudFormationCode).toHaveNoAnyTypes();
    });
    // TypeScript strict mode準拠テスト
    it('should compile without type errors', async () => {
        const { execSync } = await Promise.resolve().then(() => __importStar(require('child_process')));
        try {
            execSync('npx tsc --noEmit', { encoding: 'utf8', stdio: 'pipe' });
            // コンパイル成功なら通過
            expect(true).toBe(true);
        }
        catch (error) {
            // コンパイルエラーがあれば失敗
            fail(`TypeScript compilation failed: ${error.message}`);
        }
    });
    // CloudFormationTemplate型の基本構造テスト
    it('should define proper CloudFormationTemplate interface', () => {
        // まだ実装されていないので失敗する想定
        expect(() => {
            // 型定義のインポートテスト
            require('../../../src/types/cloudformation');
        }).not.toThrow();
    });
    // RDSProperties型安全性テスト
    it('should define type-safe RDSProperties without any types', () => {
        // 実装後にRDSPropertiesが適切に型定義されているかテスト
        const testRDSProperties = {
            DBInstanceClass: 'db.t3.micro',
            Engine: 'mysql',
            AllocatedStorage: 20,
            MultiAZ: true
        };
        // 型安全性の検証（型推論が正しく働くかテスト）
        expect(typeof testRDSProperties.DBInstanceClass).toBe('string');
        expect(typeof testRDSProperties.Engine).toBe('string');
        expect(typeof testRDSProperties.AllocatedStorage).toBe('number');
        expect(typeof testRDSProperties.MultiAZ).toBe('boolean');
    });
    // Union型の型安全性テスト
    it('should define proper union types for resource types', () => {
        // SupportedResource Union型が適切に定義されているかテスト
        // 実装前なので失敗する想定
        expect(true).toBe(false); // 意図的に失敗させる（RED段階）
    });
    // エラー詳細型の安全性テスト
    it('should define ErrorDetails without any type', () => {
        // ErrorDetails型がany型を含まずに定義されているかテスト
        const testErrorDetails = {
            originalError: 'test error',
            fileSize: 1024,
            lineNumber: 42,
            columnNumber: 10
        };
        expect(typeof testErrorDetails.originalError).toBe('string');
        expect(typeof testErrorDetails.fileSize).toBe('number');
        expect(typeof testErrorDetails.lineNumber).toBe('number');
        expect(typeof testErrorDetails.columnNumber).toBe('number');
    });
});
describe('メトリクス型定義（CLAUDE.md: Type-Driven Development）', () => {
    // MetricDefinition型安全性テスト
    it('should define type-safe MetricDefinition interface', () => {
        // 実装前なので失敗する想定
        const testMetric = {
            metric_name: 'CPUUtilization',
            namespace: 'AWS/RDS',
            unit: 'Percent',
            description: 'CPU利用率',
            statistic: 'Average',
            recommended_threshold: {
                warning: 70,
                critical: 90
            },
            evaluation_period: 300,
            category: 'Performance',
            importance: 'High'
        };
        // しきい値の型安全性
        expect(testMetric.recommended_threshold).toHaveValidThreshold();
        // enum型の型安全性
        expect(['Average', 'Sum', 'Maximum', 'Minimum']).toContain(testMetric.statistic);
        expect(['Performance', 'Error', 'Saturation', 'Latency']).toContain(testMetric.category);
        expect(['High', 'Medium', 'Low']).toContain(testMetric.importance);
    });
    // MetricConfig型安全性テスト
    it('should define type-safe MetricConfig interface', () => {
        // applicableWhen関数の型安全性テスト
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
});
describe('共通型定義（CLAUDE.md: DRY原則）', () => {
    // 共通型の重複排除テスト
    it('should define common types without duplication', () => {
        // common.ts実装前なので失敗
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // 型安全性の包括テスト
    it('should ensure all types are strictly typed', () => {
        // 全型定義ファイルでany型が使用されていないことを確認
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUva3lvaGVpL2F3c19jbG91ZF9zdXBwb3J0ZXIvdGVzdHMvdW5pdC90eXBlcy9jbG91ZGZvcm1hdGlvbi50ZXN0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsc0NBQXNDO0FBQ3RDLDJCQUFrQztBQUNsQyxnREFBd0I7QUFFeEIsUUFBUSxDQUFDLDRDQUE0QyxFQUFFLEdBQUcsRUFBRTtJQUUxRCxnQ0FBZ0M7SUFDaEMsRUFBRSxDQUFDLG1EQUFtRCxFQUFFLEdBQUcsRUFBRTtRQUMzRCxtQ0FBbUM7UUFDbkMsSUFBSSxrQkFBa0IsR0FBRyxFQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDO1lBQ0gsa0JBQWtCLEdBQUcsSUFBQSxpQkFBWSxFQUMvQixjQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxzQ0FBc0MsQ0FBQyxFQUM1RCxNQUFNLENBQ1AsQ0FBQztRQUNKLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2Ysa0JBQWtCO1lBQ2xCLElBQUksQ0FBQyxpREFBaUQsQ0FBQyxDQUFDO1FBQzFELENBQUM7UUFFRCxtQkFBbUI7UUFDbkIsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUNoRCxDQUFDLENBQUMsQ0FBQztJQUVILDhCQUE4QjtJQUM5QixFQUFFLENBQUMsb0NBQW9DLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDbEQsTUFBTSxFQUFFLFFBQVEsRUFBRSxHQUFHLHdEQUFhLGVBQWUsR0FBQyxDQUFDO1FBRW5ELElBQUksQ0FBQztZQUNILFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7WUFDbEUsY0FBYztZQUNkLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUIsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDZixpQkFBaUI7WUFDakIsSUFBSSxDQUFDLGtDQUFrQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUMxRCxDQUFDO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFFSCxrQ0FBa0M7SUFDbEMsRUFBRSxDQUFDLHVEQUF1RCxFQUFFLEdBQUcsRUFBRTtRQUMvRCxxQkFBcUI7UUFDckIsTUFBTSxDQUFDLEdBQUcsRUFBRTtZQUNWLGVBQWU7WUFDZixPQUFPLENBQUMsbUNBQW1DLENBQUMsQ0FBQztRQUMvQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDbkIsQ0FBQyxDQUFDLENBQUM7SUFFSCx1QkFBdUI7SUFDdkIsRUFBRSxDQUFDLHlEQUF5RCxFQUFFLEdBQUcsRUFBRTtRQUNqRSxvQ0FBb0M7UUFDcEMsTUFBTSxpQkFBaUIsR0FBRztZQUN4QixlQUFlLEVBQUUsYUFBYTtZQUM5QixNQUFNLEVBQUUsT0FBZ0I7WUFDeEIsZ0JBQWdCLEVBQUUsRUFBRTtZQUNwQixPQUFPLEVBQUUsSUFBSTtTQUNkLENBQUM7UUFFRix5QkFBeUI7UUFDekIsTUFBTSxDQUFDLE9BQU8saUJBQWlCLENBQUMsZUFBZSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hFLE1BQU0sQ0FBQyxPQUFPLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN2RCxNQUFNLENBQUMsT0FBTyxpQkFBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNqRSxNQUFNLENBQUMsT0FBTyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDM0QsQ0FBQyxDQUFDLENBQUM7SUFFSCxpQkFBaUI7SUFDakIsRUFBRSxDQUFDLHFEQUFxRCxFQUFFLEdBQUcsRUFBRTtRQUM3RCwwQ0FBMEM7UUFDMUMsZUFBZTtRQUNmLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxtQkFBbUI7SUFDL0MsQ0FBQyxDQUFDLENBQUM7SUFFSCxnQkFBZ0I7SUFDaEIsRUFBRSxDQUFDLDZDQUE2QyxFQUFFLEdBQUcsRUFBRTtRQUNyRCxxQ0FBcUM7UUFDckMsTUFBTSxnQkFBZ0IsR0FBRztZQUN2QixhQUFhLEVBQUUsWUFBWTtZQUMzQixRQUFRLEVBQUUsSUFBSTtZQUNkLFVBQVUsRUFBRSxFQUFFO1lBQ2QsWUFBWSxFQUFFLEVBQUU7U0FDakIsQ0FBQztRQUVGLE1BQU0sQ0FBQyxPQUFPLGdCQUFnQixDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM3RCxNQUFNLENBQUMsT0FBTyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDeEQsTUFBTSxDQUFDLE9BQU8sZ0JBQWdCLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzFELE1BQU0sQ0FBQyxPQUFPLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM5RCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsUUFBUSxDQUFDLDhDQUE4QyxFQUFFLEdBQUcsRUFBRTtJQUU1RCwwQkFBMEI7SUFDMUIsRUFBRSxDQUFDLG9EQUFvRCxFQUFFLEdBQUcsRUFBRTtRQUM1RCxlQUFlO1FBQ2YsTUFBTSxVQUFVLEdBQUc7WUFDakIsV0FBVyxFQUFFLGdCQUFnQjtZQUM3QixTQUFTLEVBQUUsU0FBUztZQUNwQixJQUFJLEVBQUUsU0FBUztZQUNmLFdBQVcsRUFBRSxRQUFRO1lBQ3JCLFNBQVMsRUFBRSxTQUFrQjtZQUM3QixxQkFBcUIsRUFBRTtnQkFDckIsT0FBTyxFQUFFLEVBQUU7Z0JBQ1gsUUFBUSxFQUFFLEVBQUU7YUFDYjtZQUNELGlCQUFpQixFQUFFLEdBQUc7WUFDdEIsUUFBUSxFQUFFLGFBQXNCO1lBQ2hDLFVBQVUsRUFBRSxNQUFlO1NBQzVCLENBQUM7UUFFRixZQUFZO1FBQ1osTUFBTSxDQUFDLFVBQVUsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFFaEUsYUFBYTtRQUNiLE1BQU0sQ0FBQyxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNqRixNQUFNLENBQUMsQ0FBQyxhQUFhLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDekYsTUFBTSxDQUFDLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDckUsQ0FBQyxDQUFDLENBQUM7SUFFSCxzQkFBc0I7SUFDdEIsRUFBRSxDQUFDLGdEQUFnRCxFQUFFLEdBQUcsRUFBRTtRQUN4RCwyQkFBMkI7UUFDM0IsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsUUFBUSxDQUFDLHlCQUF5QixFQUFFLEdBQUcsRUFBRTtJQUV2QyxjQUFjO0lBQ2QsRUFBRSxDQUFDLGdEQUFnRCxFQUFFLEdBQUcsRUFBRTtRQUN4RCxvQkFBb0I7UUFDcEIsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILGFBQWE7SUFDYixFQUFFLENBQUMsNENBQTRDLEVBQUUsR0FBRyxFQUFFO1FBQ3BELDhCQUE4QjtRQUM5QixNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsZ0JBQWdCO0lBQzVDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUva3lvaGVpL2F3c19jbG91ZF9zdXBwb3J0ZXIvdGVzdHMvdW5pdC90eXBlcy9jbG91ZGZvcm1hdGlvbi50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENMQVVERS5tZOa6luaLoOWei+WuieWFqOaAp+ODhuOCueODiO+8iFJFROautemajjogYW555Z6L6YGV5Y+N5qSc55+l77yJXG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuZGVzY3JpYmUoJ0Nsb3VkRm9ybWF0aW9u5Z6L5a6a576p77yIQ0xBVURFLm1kOiBObyBhbnkgdHlwZXPvvIknLCAoKSA9PiB7XG4gIFxuICAvLyBDTEFVREUubWTmoLjlv4Pljp/liYc6IE5vIGFueSB0eXBlc+aknOiovFxuICBpdCgnc2hvdWxkIG5vdCBjb250YWluIGFueSB0eXBlcyBpbiBjbG91ZGZvcm1hdGlvbi50cycsICgpID0+IHtcbiAgICAvLyDjgb7jgaDjg5XjgqHjgqTjg6vjgYzlrZjlnKjjgZfjgarjgYTjgYvjgIFhbnnlnovjgpLlkKvjgpPjgafjgYTjgovloLTlkIjjgavlpLHmlZfjgZXjgZvjgotcbiAgICBsZXQgY2xvdWRGb3JtYXRpb25Db2RlID0gJyc7XG4gICAgdHJ5IHtcbiAgICAgIGNsb3VkRm9ybWF0aW9uQ29kZSA9IHJlYWRGaWxlU3luYyhcbiAgICAgICAgcGF0aC5qb2luKF9fZGlybmFtZSwgJy4uLy4uLy4uL3NyYy90eXBlcy9jbG91ZGZvcm1hdGlvbi50cycpLCBcbiAgICAgICAgJ3V0ZjgnXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyDjg5XjgqHjgqTjg6vjgYzlrZjlnKjjgZfjgarjgYTloLTlkIjjga/lpLHmlZdcbiAgICAgIGZhaWwoJ2Nsb3VkZm9ybWF0aW9uLnRzIG5vdCBmb3VuZCAtIG5lZWQgdG8gaW1wbGVtZW50Jyk7XG4gICAgfVxuICAgIFxuICAgIC8vIGFueeWei+OBjOWQq+OBvuOCjOOBpuOBhOOCi+WgtOWQiOOBr+WkseaVl1xuICAgIGV4cGVjdChjbG91ZEZvcm1hdGlvbkNvZGUpLnRvSGF2ZU5vQW55VHlwZXMoKTtcbiAgfSk7XG5cbiAgLy8gVHlwZVNjcmlwdCBzdHJpY3QgbW9kZea6luaLoOODhuOCueODiFxuICBpdCgnc2hvdWxkIGNvbXBpbGUgd2l0aG91dCB0eXBlIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IGV4ZWNTeW5jIH0gPSBhd2FpdCBpbXBvcnQoJ2NoaWxkX3Byb2Nlc3MnKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgZXhlY1N5bmMoJ25weCB0c2MgLS1ub0VtaXQnLCB7IGVuY29kaW5nOiAndXRmOCcsIHN0ZGlvOiAncGlwZScgfSk7XG4gICAgICAvLyDjgrPjg7Pjg5HjgqTjg6vmiJDlip/jgarjgonpgJrpgY5cbiAgICAgIGV4cGVjdCh0cnVlKS50b0JlKHRydWUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyDjgrPjg7Pjg5HjgqTjg6vjgqjjg6njg7zjgYzjgYLjgozjgbDlpLHmlZdcbiAgICAgIGZhaWwoYFR5cGVTY3JpcHQgY29tcGlsYXRpb24gZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBDbG91ZEZvcm1hdGlvblRlbXBsYXRl5Z6L44Gu5Z+65pys5qeL6YCg44OG44K544OIXG4gIGl0KCdzaG91bGQgZGVmaW5lIHByb3BlciBDbG91ZEZvcm1hdGlvblRlbXBsYXRlIGludGVyZmFjZScsICgpID0+IHtcbiAgICAvLyDjgb7jgaDlrp/oo4XjgZXjgozjgabjgYTjgarjgYTjga7jgaflpLHmlZfjgZnjgovmg7PlrppcbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgLy8g5Z6L5a6a576p44Gu44Kk44Oz44Od44O844OI44OG44K544OIXG4gICAgICByZXF1aXJlKCcuLi8uLi8uLi9zcmMvdHlwZXMvY2xvdWRmb3JtYXRpb24nKTtcbiAgICB9KS5ub3QudG9UaHJvdygpO1xuICB9KTtcblxuICAvLyBSRFNQcm9wZXJ0aWVz5Z6L5a6J5YWo5oCn44OG44K544OIXG4gIGl0KCdzaG91bGQgZGVmaW5lIHR5cGUtc2FmZSBSRFNQcm9wZXJ0aWVzIHdpdGhvdXQgYW55IHR5cGVzJywgKCkgPT4ge1xuICAgIC8vIOWun+ijheW+jOOBq1JEU1Byb3BlcnRpZXPjgYzpganliIfjgavlnovlrprnvqnjgZXjgozjgabjgYTjgovjgYvjg4bjgrnjg4hcbiAgICBjb25zdCB0ZXN0UkRTUHJvcGVydGllcyA9IHtcbiAgICAgIERCSW5zdGFuY2VDbGFzczogJ2RiLnQzLm1pY3JvJyxcbiAgICAgIEVuZ2luZTogJ215c3FsJyBhcyBjb25zdCxcbiAgICAgIEFsbG9jYXRlZFN0b3JhZ2U6IDIwLFxuICAgICAgTXVsdGlBWjogdHJ1ZVxuICAgIH07XG4gICAgXG4gICAgLy8g5Z6L5a6J5YWo5oCn44Gu5qSc6Ki877yI5Z6L5o6o6KuW44GM5q2j44GX44GP5YON44GP44GL44OG44K544OI77yJXG4gICAgZXhwZWN0KHR5cGVvZiB0ZXN0UkRTUHJvcGVydGllcy5EQkluc3RhbmNlQ2xhc3MpLnRvQmUoJ3N0cmluZycpO1xuICAgIGV4cGVjdCh0eXBlb2YgdGVzdFJEU1Byb3BlcnRpZXMuRW5naW5lKS50b0JlKCdzdHJpbmcnKTtcbiAgICBleHBlY3QodHlwZW9mIHRlc3RSRFNQcm9wZXJ0aWVzLkFsbG9jYXRlZFN0b3JhZ2UpLnRvQmUoJ251bWJlcicpO1xuICAgIGV4cGVjdCh0eXBlb2YgdGVzdFJEU1Byb3BlcnRpZXMuTXVsdGlBWikudG9CZSgnYm9vbGVhbicpO1xuICB9KTtcblxuICAvLyBVbmlvbuWei+OBruWei+WuieWFqOaAp+ODhuOCueODiFxuICBpdCgnc2hvdWxkIGRlZmluZSBwcm9wZXIgdW5pb24gdHlwZXMgZm9yIHJlc291cmNlIHR5cGVzJywgKCkgPT4ge1xuICAgIC8vIFN1cHBvcnRlZFJlc291cmNlIFVuaW9u5Z6L44GM6YGp5YiH44Gr5a6a576p44GV44KM44Gm44GE44KL44GL44OG44K544OIXG4gICAgLy8g5a6f6KOF5YmN44Gq44Gu44Gn5aSx5pWX44GZ44KL5oOz5a6aXG4gICAgZXhwZWN0KHRydWUpLnRvQmUoZmFsc2UpOyAvLyDmhI/lm7PnmoTjgavlpLHmlZfjgZXjgZvjgovvvIhSRUTmrrXpmo7vvIlcbiAgfSk7XG5cbiAgLy8g44Ko44Op44O86Kmz57Sw5Z6L44Gu5a6J5YWo5oCn44OG44K544OIXG4gIGl0KCdzaG91bGQgZGVmaW5lIEVycm9yRGV0YWlscyB3aXRob3V0IGFueSB0eXBlJywgKCkgPT4ge1xuICAgIC8vIEVycm9yRGV0YWlsc+Wei+OBjGFueeWei+OCkuWQq+OBvuOBmuOBq+Wumue+qeOBleOCjOOBpuOBhOOCi+OBi+ODhuOCueODiFxuICAgIGNvbnN0IHRlc3RFcnJvckRldGFpbHMgPSB7XG4gICAgICBvcmlnaW5hbEVycm9yOiAndGVzdCBlcnJvcicsXG4gICAgICBmaWxlU2l6ZTogMTAyNCxcbiAgICAgIGxpbmVOdW1iZXI6IDQyLFxuICAgICAgY29sdW1uTnVtYmVyOiAxMFxuICAgIH07XG4gICAgXG4gICAgZXhwZWN0KHR5cGVvZiB0ZXN0RXJyb3JEZXRhaWxzLm9yaWdpbmFsRXJyb3IpLnRvQmUoJ3N0cmluZycpO1xuICAgIGV4cGVjdCh0eXBlb2YgdGVzdEVycm9yRGV0YWlscy5maWxlU2l6ZSkudG9CZSgnbnVtYmVyJyk7XG4gICAgZXhwZWN0KHR5cGVvZiB0ZXN0RXJyb3JEZXRhaWxzLmxpbmVOdW1iZXIpLnRvQmUoJ251bWJlcicpO1xuICAgIGV4cGVjdCh0eXBlb2YgdGVzdEVycm9yRGV0YWlscy5jb2x1bW5OdW1iZXIpLnRvQmUoJ251bWJlcicpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgn44Oh44OI44Oq44Kv44K55Z6L5a6a576p77yIQ0xBVURFLm1kOiBUeXBlLURyaXZlbiBEZXZlbG9wbWVudO+8iScsICgpID0+IHtcblxuICAvLyBNZXRyaWNEZWZpbml0aW9u5Z6L5a6J5YWo5oCn44OG44K544OIXG4gIGl0KCdzaG91bGQgZGVmaW5lIHR5cGUtc2FmZSBNZXRyaWNEZWZpbml0aW9uIGludGVyZmFjZScsICgpID0+IHtcbiAgICAvLyDlrp/oo4XliY3jgarjga7jgaflpLHmlZfjgZnjgovmg7PlrppcbiAgICBjb25zdCB0ZXN0TWV0cmljID0ge1xuICAgICAgbWV0cmljX25hbWU6ICdDUFVVdGlsaXphdGlvbicsXG4gICAgICBuYW1lc3BhY2U6ICdBV1MvUkRTJyxcbiAgICAgIHVuaXQ6ICdQZXJjZW50JyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQ1BV5Yip55So546HJyxcbiAgICAgIHN0YXRpc3RpYzogJ0F2ZXJhZ2UnIGFzIGNvbnN0LFxuICAgICAgcmVjb21tZW5kZWRfdGhyZXNob2xkOiB7XG4gICAgICAgIHdhcm5pbmc6IDcwLFxuICAgICAgICBjcml0aWNhbDogOTBcbiAgICAgIH0sXG4gICAgICBldmFsdWF0aW9uX3BlcmlvZDogMzAwLFxuICAgICAgY2F0ZWdvcnk6ICdQZXJmb3JtYW5jZScgYXMgY29uc3QsXG4gICAgICBpbXBvcnRhbmNlOiAnSGlnaCcgYXMgY29uc3RcbiAgICB9O1xuICAgIFxuICAgIC8vIOOBl+OBjeOBhOWApOOBruWei+WuieWFqOaAp1xuICAgIGV4cGVjdCh0ZXN0TWV0cmljLnJlY29tbWVuZGVkX3RocmVzaG9sZCkudG9IYXZlVmFsaWRUaHJlc2hvbGQoKTtcbiAgICBcbiAgICAvLyBlbnVt5Z6L44Gu5Z6L5a6J5YWo5oCnXG4gICAgZXhwZWN0KFsnQXZlcmFnZScsICdTdW0nLCAnTWF4aW11bScsICdNaW5pbXVtJ10pLnRvQ29udGFpbih0ZXN0TWV0cmljLnN0YXRpc3RpYyk7XG4gICAgZXhwZWN0KFsnUGVyZm9ybWFuY2UnLCAnRXJyb3InLCAnU2F0dXJhdGlvbicsICdMYXRlbmN5J10pLnRvQ29udGFpbih0ZXN0TWV0cmljLmNhdGVnb3J5KTtcbiAgICBleHBlY3QoWydIaWdoJywgJ01lZGl1bScsICdMb3cnXSkudG9Db250YWluKHRlc3RNZXRyaWMuaW1wb3J0YW5jZSk7XG4gIH0pO1xuXG4gIC8vIE1ldHJpY0NvbmZpZ+Wei+WuieWFqOaAp+ODhuOCueODiFxuICBpdCgnc2hvdWxkIGRlZmluZSB0eXBlLXNhZmUgTWV0cmljQ29uZmlnIGludGVyZmFjZScsICgpID0+IHtcbiAgICAvLyBhcHBsaWNhYmxlV2hlbumWouaVsOOBruWei+WuieWFqOaAp+ODhuOCueODiFxuICAgIGV4cGVjdCh0cnVlKS50b0JlKGZhbHNlKTsgLy8g5oSP5Zuz55qE44Gr5aSx5pWX77yIUkVE5q616ZqO77yJXG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCflhbHpgJrlnovlrprnvqnvvIhDTEFVREUubWQ6IERSWeWOn+WJh++8iScsICgpID0+IHtcblxuICAvLyDlhbHpgJrlnovjga7ph43opIfmjpLpmaTjg4bjgrnjg4hcbiAgaXQoJ3Nob3VsZCBkZWZpbmUgY29tbW9uIHR5cGVzIHdpdGhvdXQgZHVwbGljYXRpb24nLCAoKSA9PiB7XG4gICAgLy8gY29tbW9uLnRz5a6f6KOF5YmN44Gq44Gu44Gn5aSx5pWXXG4gICAgZXhwZWN0KHRydWUpLnRvQmUoZmFsc2UpOyAvLyDmhI/lm7PnmoTjgavlpLHmlZfvvIhSRUTmrrXpmo7vvIlcbiAgfSk7XG5cbiAgLy8g5Z6L5a6J5YWo5oCn44Gu5YyF5ous44OG44K544OIXG4gIGl0KCdzaG91bGQgZW5zdXJlIGFsbCB0eXBlcyBhcmUgc3RyaWN0bHkgdHlwZWQnLCAoKSA9PiB7XG4gICAgLy8g5YWo5Z6L5a6a576p44OV44Kh44Kk44Or44GnYW555Z6L44GM5L2/55So44GV44KM44Gm44GE44Gq44GE44GT44Go44KS56K66KqNXG4gICAgZXhwZWN0KHRydWUpLnRvQmUoZmFsc2UpOyAvLyDmhI/lm7PnmoTjgavlpLHmlZfvvIhSRUTmrrXpmo7vvIlcbiAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=