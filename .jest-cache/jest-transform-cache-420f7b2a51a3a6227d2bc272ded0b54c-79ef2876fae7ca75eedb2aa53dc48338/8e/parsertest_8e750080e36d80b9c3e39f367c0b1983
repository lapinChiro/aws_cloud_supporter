7374ff220f481e8dc4482f03e96d9e89
"use strict";
// CLAUDE.md準拠TemplateParserテスト（RED段階: Don't Reinvent the Wheel + Type-Driven）
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const fs_1 = require("fs");
const path_1 = __importDefault(require("path"));
const os_1 = require("os");
describe('TemplateParser型安全解析（CLAUDE.md: TDD RED段階）', () => {
    // RED段階: TemplateParserが存在しないことを確認
    it('should fail until TemplateParser is implemented', () => {
        expect(() => {
            require('../../../src/core/parser');
        }).toThrow(); // まだファイル未実装で失敗
    });
    // YAML解析テスト（実装前失敗想定）
    it('should parse valid YAML CloudFormation template', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // JSON解析テスト（実装前失敗想定）
    it('should parse valid JSON CloudFormation template', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // ファイル存在エラーテスト（実装前失敗想定）
    it('should handle file not found error', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // ファイルサイズ制限テスト（50MB制限、実装前失敗想定）
    it('should reject files larger than 50MB', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // 読み込み時間制限テスト（5秒制限、実装前失敗想定）
    it('should timeout file reading after 5 seconds', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // YAML構文エラーハンドリングテスト（実装前失敗想定）
    it('should provide detailed YAML syntax error', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // JSON構文エラーハンドリングテスト（実装前失敗想定）
    it('should provide detailed JSON syntax error with position', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // CloudFormation構造検証テスト（実装前失敗想定）
    it('should validate CloudFormation template structure', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // any型使用禁止テスト
    it('should not use any types in parser implementation', () => {
        // ファイルが存在しないので失敗する想定
        try {
            const parserCode = (0, fs_1.readFileSync)(path_1.default.join(__dirname, '../../../src/core/parser.ts'), 'utf8');
            expect(parserCode).toHaveNoAnyTypes();
        }
        catch {
            expect(true).toBe(false); // ファイル未実装で失敗（RED段階）
        }
    });
    // 型安全性テスト（実装前失敗想定）
    it('should return properly typed CloudFormationTemplate', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
});
describe('TemplateParserパフォーマンステスト（CLAUDE.md: 性能要件）', () => {
    // パフォーマンス要件テスト（実装前失敗想定）
    it('should parse large template within 5 seconds', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // メモリ効率テスト（実装前失敗想定）  
    it('should handle large files efficiently without memory leaks', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // 並行解析テスト（実装前失敗想定）
    it('should handle concurrent parsing requests safely', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
});
describe('TemplateParserエラーハンドリング統合（CLAUDE.md: 型安全エラー処理）', () => {
    // 既実装エラーハンドリングとの統合テスト（実装前失敗想定）
    it('should integrate with CloudSupporterError system', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // エラー提案メッセージテスト（実装前失敗想定）
    it('should provide helpful error suggestions', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
    // 構造化エラー出力テスト（実装前失敗想定）
    it('should output structured error information', async () => {
        expect(true).toBe(false); // 意図的に失敗（RED段階）
    });
});
// RED段階用テストヘルパー（失敗確認用）
describe('テストヘルパー準備（RED段階）', () => {
    let tempDir;
    beforeAll(() => {
        // 一時ディレクトリ作成
        tempDir = path_1.default.join((0, os_1.tmpdir)(), 'aws-cloud-supporter-test');
        try {
            (0, fs_1.mkdirSync)(tempDir, { recursive: true });
        }
        catch {
            // 既に存在する場合は無視
        }
    });
    // 有効なYAMLテンプレート用テストデータ作成
    it('should create test fixtures for YAML templates', () => {
        const validYamlTemplate = `
AWSTemplateFormatVersion: '2010-09-09'
Description: 'Test CloudFormation template'
Resources:
  TestDB:
    Type: AWS::RDS::DBInstance
    Properties:
      Engine: mysql
      DBInstanceClass: db.t3.micro
      AllocatedStorage: 20
  TestFunction:
    Type: AWS::Lambda::Function
    Properties:
      Runtime: nodejs20.x
      Handler: index.handler
      Code:
        ZipFile: 'exports.handler = async () => ({ statusCode: 200 });'
`;
        const yamlPath = path_1.default.join(tempDir, 'valid-template.yaml');
        (0, fs_1.writeFileSync)(yamlPath, validYamlTemplate, 'utf8');
        expect((0, fs_1.readFileSync)(yamlPath, 'utf8')).toContain('AWSTemplateFormatVersion');
    });
    // 有効なJSONテンプレート用テストデータ作成
    it('should create test fixtures for JSON templates', () => {
        const validJsonTemplate = {
            "AWSTemplateFormatVersion": "2010-09-09",
            "Description": "Test CloudFormation JSON template",
            "Resources": {
                "TestBucket": {
                    "Type": "AWS::S3::Bucket",
                    "Properties": {
                        "BucketName": "test-bucket"
                    }
                },
                "TestAPI": {
                    "Type": "AWS::ApiGateway::RestApi",
                    "Properties": {
                        "Name": "test-api"
                    }
                }
            }
        };
        const jsonPath = path_1.default.join(tempDir, 'valid-template.json');
        (0, fs_1.writeFileSync)(jsonPath, JSON.stringify(validJsonTemplate, null, 2), 'utf8');
        expect(JSON.parse((0, fs_1.readFileSync)(jsonPath, 'utf8'))).toHaveProperty('Resources');
    });
    // 無効なYAMLテンプレート用テストデータ作成（構文エラー）
    it('should create invalid YAML test fixture', () => {
        const invalidYamlTemplate = `
AWSTemplateFormatVersion: '2010-09-09'
Description: 'Invalid YAML template'
Resources:
  TestDB:
    Type: AWS::RDS::DBInstance
    Properties:
      Engine: mysql
      # 不正なインデント
    DBInstanceClass: db.t3.micro
`;
        const invalidYamlPath = path_1.default.join(tempDir, 'invalid-syntax.yaml');
        (0, fs_1.writeFileSync)(invalidYamlPath, invalidYamlTemplate, 'utf8');
        expect((0, fs_1.readFileSync)(invalidYamlPath, 'utf8')).toContain('不正なインデント');
    });
    // 無効なJSONテンプレート用テストデータ作成（構文エラー）
    it('should create invalid JSON test fixture', () => {
        const invalidJsonTemplate = `{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "Invalid JSON template",
  "Resources": {
    "TestBucket": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketName": "test-bucket"
      }
    }, // 不正なカンマ
  }
}`;
        const invalidJsonPath = path_1.default.join(tempDir, 'invalid-syntax.json');
        (0, fs_1.writeFileSync)(invalidJsonPath, invalidJsonTemplate, 'utf8');
        expect((0, fs_1.readFileSync)(invalidJsonPath, 'utf8')).toContain('不正なカンマ');
    });
    // 大きなファイル用テストデータ作成（サイズ制限テスト用）
    it('should create large file test fixture', () => {
        const largeTemplate = {
            AWSTemplateFormatVersion: "2010-09-09",
            Description: "Large template for size testing",
            Resources: {}
        };
        // 大量のリソースを生成（50MB超を模擬）
        for (let i = 0; i < 10000; i++) {
            largeTemplate.Resources[`Resource${i}`] = {
                Type: "AWS::S3::Bucket",
                Properties: {
                    BucketName: `bucket-${i}`,
                    Description: `Test bucket number ${i} for large template size testing with long description to increase file size significantly`
                }
            };
        }
        const largePath = path_1.default.join(tempDir, 'large-template.json');
        (0, fs_1.writeFileSync)(largePath, JSON.stringify(largeTemplate, null, 2), 'utf8');
        const stats = require('fs').statSync(largePath);
        expect(stats.size).toBeGreaterThan(1024 * 1024); // 1MB以上
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUva3lvaGVpL2F3c19jbG91ZF9zdXBwb3J0ZXIvdGVzdHMvdW5pdC9jb3JlL3BhcnNlci50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQSw4RUFBOEU7Ozs7O0FBRTlFLDJCQUE0RDtBQUM1RCxnREFBd0I7QUFDeEIsMkJBQTRCO0FBRTVCLFFBQVEsQ0FBQywyQ0FBMkMsRUFBRSxHQUFHLEVBQUU7SUFFekQsbUNBQW1DO0lBQ25DLEVBQUUsQ0FBQyxpREFBaUQsRUFBRSxHQUFHLEVBQUU7UUFDekQsTUFBTSxDQUFDLEdBQUcsRUFBRTtZQUNWLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1FBQ3RDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsZUFBZTtJQUMvQixDQUFDLENBQUMsQ0FBQztJQUVILHFCQUFxQjtJQUNyQixFQUFFLENBQUMsaURBQWlELEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDL0QsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILHFCQUFxQjtJQUNyQixFQUFFLENBQUMsaURBQWlELEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDL0QsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILHdCQUF3QjtJQUN4QixFQUFFLENBQUMsb0NBQW9DLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDbEQsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILCtCQUErQjtJQUMvQixFQUFFLENBQUMsc0NBQXNDLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDcEQsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILDRCQUE0QjtJQUM1QixFQUFFLENBQUMsNkNBQTZDLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDM0QsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILDhCQUE4QjtJQUM5QixFQUFFLENBQUMsMkNBQTJDLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDekQsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILDhCQUE4QjtJQUM5QixFQUFFLENBQUMseURBQXlELEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDdkUsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILGlDQUFpQztJQUNqQyxFQUFFLENBQUMsbURBQW1ELEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDakUsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILGNBQWM7SUFDZCxFQUFFLENBQUMsbURBQW1ELEVBQUUsR0FBRyxFQUFFO1FBQzNELHFCQUFxQjtRQUNyQixJQUFJLENBQUM7WUFDSCxNQUFNLFVBQVUsR0FBRyxJQUFBLGlCQUFZLEVBQzdCLGNBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLDZCQUE2QixDQUFDLEVBQ25ELE1BQU0sQ0FDUCxDQUFDO1lBQ0YsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDeEMsQ0FBQztRQUFDLE1BQU0sQ0FBQztZQUNQLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxvQkFBb0I7UUFDaEQsQ0FBQztJQUNILENBQUMsQ0FBQyxDQUFDO0lBRUgsbUJBQW1CO0lBQ25CLEVBQUUsQ0FBQyxxREFBcUQsRUFBRSxLQUFLLElBQUksRUFBRTtRQUNuRSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsZ0JBQWdCO0lBQzVDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUM7QUFFSCxRQUFRLENBQUMsMkNBQTJDLEVBQUUsR0FBRyxFQUFFO0lBRXpELHdCQUF3QjtJQUN4QixFQUFFLENBQUMsOENBQThDLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDNUQsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILHNCQUFzQjtJQUN0QixFQUFFLENBQUMsNERBQTRELEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDMUUsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILG1CQUFtQjtJQUNuQixFQUFFLENBQUMsa0RBQWtELEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDaEUsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUM1QyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsUUFBUSxDQUFDLGdEQUFnRCxFQUFFLEdBQUcsRUFBRTtJQUU5RCwrQkFBK0I7SUFDL0IsRUFBRSxDQUFDLGtEQUFrRCxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ2hFLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0I7SUFDNUMsQ0FBQyxDQUFDLENBQUM7SUFFSCx5QkFBeUI7SUFDekIsRUFBRSxDQUFDLDBDQUEwQyxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ3hELE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0I7SUFDNUMsQ0FBQyxDQUFDLENBQUM7SUFFSCx1QkFBdUI7SUFDdkIsRUFBRSxDQUFDLDRDQUE0QyxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQzFELE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0I7SUFDNUMsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQztBQUVILHVCQUF1QjtBQUN2QixRQUFRLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxFQUFFO0lBQ2hDLElBQUksT0FBZSxDQUFDO0lBRXBCLFNBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDYixhQUFhO1FBQ2IsT0FBTyxHQUFHLGNBQUksQ0FBQyxJQUFJLENBQUMsSUFBQSxXQUFNLEdBQUUsRUFBRSwwQkFBMEIsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQztZQUNILElBQUEsY0FBUyxFQUFDLE9BQU8sRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQzFDLENBQUM7UUFBQyxNQUFNLENBQUM7WUFDUCxjQUFjO1FBQ2hCLENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUVILHlCQUF5QjtJQUN6QixFQUFFLENBQUMsZ0RBQWdELEVBQUUsR0FBRyxFQUFFO1FBQ3hELE1BQU0saUJBQWlCLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBaUI3QixDQUFDO1FBRUUsTUFBTSxRQUFRLEdBQUcsY0FBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUscUJBQXFCLENBQUMsQ0FBQztRQUMzRCxJQUFBLGtCQUFhLEVBQUMsUUFBUSxFQUFFLGlCQUFpQixFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRW5ELE1BQU0sQ0FBQyxJQUFBLGlCQUFZLEVBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLDBCQUEwQixDQUFDLENBQUM7SUFDL0UsQ0FBQyxDQUFDLENBQUM7SUFFSCx5QkFBeUI7SUFDekIsRUFBRSxDQUFDLGdEQUFnRCxFQUFFLEdBQUcsRUFBRTtRQUN4RCxNQUFNLGlCQUFpQixHQUFHO1lBQ3hCLDBCQUEwQixFQUFFLFlBQVk7WUFDeEMsYUFBYSxFQUFFLG1DQUFtQztZQUNsRCxXQUFXLEVBQUU7Z0JBQ1gsWUFBWSxFQUFFO29CQUNaLE1BQU0sRUFBRSxpQkFBaUI7b0JBQ3pCLFlBQVksRUFBRTt3QkFDWixZQUFZLEVBQUUsYUFBYTtxQkFDNUI7aUJBQ0Y7Z0JBQ0QsU0FBUyxFQUFFO29CQUNULE1BQU0sRUFBRSwwQkFBMEI7b0JBQ2xDLFlBQVksRUFBRTt3QkFDWixNQUFNLEVBQUUsVUFBVTtxQkFDbkI7aUJBQ0Y7YUFDRjtTQUNGLENBQUM7UUFFRixNQUFNLFFBQVEsR0FBRyxjQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO1FBQzNELElBQUEsa0JBQWEsRUFBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFFNUUsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBQSxpQkFBWSxFQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ2pGLENBQUMsQ0FBQyxDQUFDO0lBRUgsZ0NBQWdDO0lBQ2hDLEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxHQUFHLEVBQUU7UUFDakQsTUFBTSxtQkFBbUIsR0FBRzs7Ozs7Ozs7OztDQVUvQixDQUFDO1FBRUUsTUFBTSxlQUFlLEdBQUcsY0FBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUscUJBQXFCLENBQUMsQ0FBQztRQUNsRSxJQUFBLGtCQUFhLEVBQUMsZUFBZSxFQUFFLG1CQUFtQixFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRTVELE1BQU0sQ0FBQyxJQUFBLGlCQUFZLEVBQUMsZUFBZSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3RFLENBQUMsQ0FBQyxDQUFDO0lBRUgsZ0NBQWdDO0lBQ2hDLEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxHQUFHLEVBQUU7UUFDakQsTUFBTSxtQkFBbUIsR0FBRzs7Ozs7Ozs7Ozs7RUFXOUIsQ0FBQztRQUVDLE1BQU0sZUFBZSxHQUFHLGNBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLHFCQUFxQixDQUFDLENBQUM7UUFDbEUsSUFBQSxrQkFBYSxFQUFDLGVBQWUsRUFBRSxtQkFBbUIsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUU1RCxNQUFNLENBQUMsSUFBQSxpQkFBWSxFQUFDLGVBQWUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNwRSxDQUFDLENBQUMsQ0FBQztJQUVILDhCQUE4QjtJQUM5QixFQUFFLENBQUMsdUNBQXVDLEVBQUUsR0FBRyxFQUFFO1FBQy9DLE1BQU0sYUFBYSxHQUFHO1lBQ3BCLHdCQUF3QixFQUFFLFlBQVk7WUFDdEMsV0FBVyxFQUFFLGlDQUFpQztZQUM5QyxTQUFTLEVBQUUsRUFBRTtTQUNkLENBQUM7UUFFRix1QkFBdUI7UUFDdkIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1lBQy9CLGFBQWEsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxHQUFHO2dCQUN4QyxJQUFJLEVBQUUsaUJBQWlCO2dCQUN2QixVQUFVLEVBQUU7b0JBQ1YsVUFBVSxFQUFFLFVBQVUsQ0FBQyxFQUFFO29CQUN6QixXQUFXLEVBQUUsc0JBQXNCLENBQUMsNEZBQTRGO2lCQUNqSTthQUNGLENBQUM7UUFDSixDQUFDO1FBRUQsTUFBTSxTQUFTLEdBQUcsY0FBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUscUJBQXFCLENBQUMsQ0FBQztRQUM1RCxJQUFBLGtCQUFhLEVBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUV6RSxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2hELE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsZUFBZSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVE7SUFDM0QsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9reW9oZWkvYXdzX2Nsb3VkX3N1cHBvcnRlci90ZXN0cy91bml0L2NvcmUvcGFyc2VyLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ0xBVURFLm1k5rqW5ougVGVtcGxhdGVQYXJzZXLjg4bjgrnjg4jvvIhSRUTmrrXpmo46IERvbid0IFJlaW52ZW50IHRoZSBXaGVlbCArIFR5cGUtRHJpdmVu77yJXG5cbmltcG9ydCB7IHJlYWRGaWxlU3luYywgd3JpdGVGaWxlU3luYywgbWtkaXJTeW5jIH0gZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyB0bXBkaXIgfSBmcm9tICdvcyc7XG5cbmRlc2NyaWJlKCdUZW1wbGF0ZVBhcnNlcuWei+WuieWFqOino+aekO+8iENMQVVERS5tZDogVEREIFJFROautemaju+8iScsICgpID0+IHtcblxuICAvLyBSRUTmrrXpmo46IFRlbXBsYXRlUGFyc2Vy44GM5a2Y5Zyo44GX44Gq44GE44GT44Go44KS56K66KqNXG4gIGl0KCdzaG91bGQgZmFpbCB1bnRpbCBUZW1wbGF0ZVBhcnNlciBpcyBpbXBsZW1lbnRlZCcsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2NvcmUvcGFyc2VyJyk7XG4gICAgfSkudG9UaHJvdygpOyAvLyDjgb7jgaDjg5XjgqHjgqTjg6vmnKrlrp/oo4XjgaflpLHmlZdcbiAgfSk7XG5cbiAgLy8gWUFNTOino+aekOODhuOCueODiO+8iOWun+ijheWJjeWkseaVl+aDs+Wumu+8iVxuICBpdCgnc2hvdWxkIHBhcnNlIHZhbGlkIFlBTUwgQ2xvdWRGb3JtYXRpb24gdGVtcGxhdGUnLCBhc3luYyAoKSA9PiB7XG4gICAgZXhwZWN0KHRydWUpLnRvQmUoZmFsc2UpOyAvLyDmhI/lm7PnmoTjgavlpLHmlZfvvIhSRUTmrrXpmo7vvIlcbiAgfSk7XG5cbiAgLy8gSlNPTuino+aekOODhuOCueODiO+8iOWun+ijheWJjeWkseaVl+aDs+Wumu+8iVxuICBpdCgnc2hvdWxkIHBhcnNlIHZhbGlkIEpTT04gQ2xvdWRGb3JtYXRpb24gdGVtcGxhdGUnLCBhc3luYyAoKSA9PiB7XG4gICAgZXhwZWN0KHRydWUpLnRvQmUoZmFsc2UpOyAvLyDmhI/lm7PnmoTjgavlpLHmlZfvvIhSRUTmrrXpmo7vvIlcbiAgfSk7XG5cbiAgLy8g44OV44Kh44Kk44Or5a2Y5Zyo44Ko44Op44O844OG44K544OI77yI5a6f6KOF5YmN5aSx5pWX5oOz5a6a77yJXG4gIGl0KCdzaG91bGQgaGFuZGxlIGZpbGUgbm90IGZvdW5kIGVycm9yJywgYXN5bmMgKCkgPT4ge1xuICAgIGV4cGVjdCh0cnVlKS50b0JlKGZhbHNlKTsgLy8g5oSP5Zuz55qE44Gr5aSx5pWX77yIUkVE5q616ZqO77yJXG4gIH0pO1xuXG4gIC8vIOODleOCoeOCpOODq+OCteOCpOOCuuWItumZkOODhuOCueODiO+8iDUwTULliLbpmZDjgIHlrp/oo4XliY3lpLHmlZfmg7PlrprvvIlcbiAgaXQoJ3Nob3VsZCByZWplY3QgZmlsZXMgbGFyZ2VyIHRoYW4gNTBNQicsIGFzeW5jICgpID0+IHtcbiAgICBleHBlY3QodHJ1ZSkudG9CZShmYWxzZSk7IC8vIOaEj+Wbs+eahOOBq+WkseaVl++8iFJFROautemaju+8iVxuICB9KTtcblxuICAvLyDoqq3jgb/ovrzjgb/mmYLplpPliLbpmZDjg4bjgrnjg4jvvIg156eS5Yi26ZmQ44CB5a6f6KOF5YmN5aSx5pWX5oOz5a6a77yJXG4gIGl0KCdzaG91bGQgdGltZW91dCBmaWxlIHJlYWRpbmcgYWZ0ZXIgNSBzZWNvbmRzJywgYXN5bmMgKCkgPT4ge1xuICAgIGV4cGVjdCh0cnVlKS50b0JlKGZhbHNlKTsgLy8g5oSP5Zuz55qE44Gr5aSx5pWX77yIUkVE5q616ZqO77yJXG4gIH0pO1xuXG4gIC8vIFlBTUzmp4vmlofjgqjjg6njg7zjg4/jg7Pjg4njg6rjg7PjgrDjg4bjgrnjg4jvvIjlrp/oo4XliY3lpLHmlZfmg7PlrprvvIlcbiAgaXQoJ3Nob3VsZCBwcm92aWRlIGRldGFpbGVkIFlBTUwgc3ludGF4IGVycm9yJywgYXN5bmMgKCkgPT4ge1xuICAgIGV4cGVjdCh0cnVlKS50b0JlKGZhbHNlKTsgLy8g5oSP5Zuz55qE44Gr5aSx5pWX77yIUkVE5q616ZqO77yJXG4gIH0pO1xuXG4gIC8vIEpTT07mp4vmlofjgqjjg6njg7zjg4/jg7Pjg4njg6rjg7PjgrDjg4bjgrnjg4jvvIjlrp/oo4XliY3lpLHmlZfmg7PlrprvvIlcbiAgaXQoJ3Nob3VsZCBwcm92aWRlIGRldGFpbGVkIEpTT04gc3ludGF4IGVycm9yIHdpdGggcG9zaXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgZXhwZWN0KHRydWUpLnRvQmUoZmFsc2UpOyAvLyDmhI/lm7PnmoTjgavlpLHmlZfvvIhSRUTmrrXpmo7vvIlcbiAgfSk7XG5cbiAgLy8gQ2xvdWRGb3JtYXRpb27mp4vpgKDmpJzoqLzjg4bjgrnjg4jvvIjlrp/oo4XliY3lpLHmlZfmg7PlrprvvIlcbiAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBDbG91ZEZvcm1hdGlvbiB0ZW1wbGF0ZSBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgZXhwZWN0KHRydWUpLnRvQmUoZmFsc2UpOyAvLyDmhI/lm7PnmoTjgavlpLHmlZfvvIhSRUTmrrXpmo7vvIlcbiAgfSk7XG5cbiAgLy8gYW555Z6L5L2/55So56aB5q2i44OG44K544OIXG4gIGl0KCdzaG91bGQgbm90IHVzZSBhbnkgdHlwZXMgaW4gcGFyc2VyIGltcGxlbWVudGF0aW9uJywgKCkgPT4ge1xuICAgIC8vIOODleOCoeOCpOODq+OBjOWtmOWcqOOBl+OBquOBhOOBruOBp+WkseaVl+OBmeOCi+aDs+WumlxuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJzZXJDb2RlID0gcmVhZEZpbGVTeW5jKFxuICAgICAgICBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vLi4vLi4vc3JjL2NvcmUvcGFyc2VyLnRzJyksXG4gICAgICAgICd1dGY4J1xuICAgICAgKTtcbiAgICAgIGV4cGVjdChwYXJzZXJDb2RlKS50b0hhdmVOb0FueVR5cGVzKCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBleHBlY3QodHJ1ZSkudG9CZShmYWxzZSk7IC8vIOODleOCoeOCpOODq+acquWun+ijheOBp+WkseaVl++8iFJFROautemaju+8iVxuICAgIH1cbiAgfSk7XG5cbiAgLy8g5Z6L5a6J5YWo5oCn44OG44K544OI77yI5a6f6KOF5YmN5aSx5pWX5oOz5a6a77yJXG4gIGl0KCdzaG91bGQgcmV0dXJuIHByb3Blcmx5IHR5cGVkIENsb3VkRm9ybWF0aW9uVGVtcGxhdGUnLCBhc3luYyAoKSA9PiB7XG4gICAgZXhwZWN0KHRydWUpLnRvQmUoZmFsc2UpOyAvLyDmhI/lm7PnmoTjgavlpLHmlZfvvIhSRUTmrrXpmo7vvIlcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ1RlbXBsYXRlUGFyc2Vy44OR44OV44Kp44O844Oe44Oz44K544OG44K544OI77yIQ0xBVURFLm1kOiDmgKfog73opoHku7bvvIknLCAoKSA9PiB7XG5cbiAgLy8g44OR44OV44Kp44O844Oe44Oz44K56KaB5Lu244OG44K544OI77yI5a6f6KOF5YmN5aSx5pWX5oOz5a6a77yJXG4gIGl0KCdzaG91bGQgcGFyc2UgbGFyZ2UgdGVtcGxhdGUgd2l0aGluIDUgc2Vjb25kcycsIGFzeW5jICgpID0+IHtcbiAgICBleHBlY3QodHJ1ZSkudG9CZShmYWxzZSk7IC8vIOaEj+Wbs+eahOOBq+WkseaVl++8iFJFROautemaju+8iVxuICB9KTtcblxuICAvLyDjg6Hjg6Ljg6rlirnnjofjg4bjgrnjg4jvvIjlrp/oo4XliY3lpLHmlZfmg7PlrprvvIkgIFxuICBpdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSBmaWxlcyBlZmZpY2llbnRseSB3aXRob3V0IG1lbW9yeSBsZWFrcycsIGFzeW5jICgpID0+IHtcbiAgICBleHBlY3QodHJ1ZSkudG9CZShmYWxzZSk7IC8vIOaEj+Wbs+eahOOBq+WkseaVl++8iFJFROautemaju+8iVxuICB9KTtcblxuICAvLyDkuKbooYzop6PmnpDjg4bjgrnjg4jvvIjlrp/oo4XliY3lpLHmlZfmg7PlrprvvIlcbiAgaXQoJ3Nob3VsZCBoYW5kbGUgY29uY3VycmVudCBwYXJzaW5nIHJlcXVlc3RzIHNhZmVseScsIGFzeW5jICgpID0+IHtcbiAgICBleHBlY3QodHJ1ZSkudG9CZShmYWxzZSk7IC8vIOaEj+Wbs+eahOOBq+WkseaVl++8iFJFROautemaju+8iVxuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnVGVtcGxhdGVQYXJzZXLjgqjjg6njg7zjg4/jg7Pjg4njg6rjg7PjgrDntbHlkIjvvIhDTEFVREUubWQ6IOWei+WuieWFqOOCqOODqeODvOWHpueQhu+8iScsICgpID0+IHtcblxuICAvLyDml6Llrp/oo4Xjgqjjg6njg7zjg4/jg7Pjg4njg6rjg7PjgrDjgajjga7ntbHlkIjjg4bjgrnjg4jvvIjlrp/oo4XliY3lpLHmlZfmg7PlrprvvIlcbiAgaXQoJ3Nob3VsZCBpbnRlZ3JhdGUgd2l0aCBDbG91ZFN1cHBvcnRlckVycm9yIHN5c3RlbScsIGFzeW5jICgpID0+IHtcbiAgICBleHBlY3QodHJ1ZSkudG9CZShmYWxzZSk7IC8vIOaEj+Wbs+eahOOBq+WkseaVl++8iFJFROautemaju+8iVxuICB9KTtcblxuICAvLyDjgqjjg6njg7zmj5DmoYjjg6Hjg4Pjgrvjg7zjgrjjg4bjgrnjg4jvvIjlrp/oo4XliY3lpLHmlZfmg7PlrprvvIlcbiAgaXQoJ3Nob3VsZCBwcm92aWRlIGhlbHBmdWwgZXJyb3Igc3VnZ2VzdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgZXhwZWN0KHRydWUpLnRvQmUoZmFsc2UpOyAvLyDmhI/lm7PnmoTjgavlpLHmlZfvvIhSRUTmrrXpmo7vvIlcbiAgfSk7XG5cbiAgLy8g5qeL6YCg5YyW44Ko44Op44O85Ye65Yqb44OG44K544OI77yI5a6f6KOF5YmN5aSx5pWX5oOz5a6a77yJXG4gIGl0KCdzaG91bGQgb3V0cHV0IHN0cnVjdHVyZWQgZXJyb3IgaW5mb3JtYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgZXhwZWN0KHRydWUpLnRvQmUoZmFsc2UpOyAvLyDmhI/lm7PnmoTjgavlpLHmlZfvvIhSRUTmrrXpmo7vvIlcbiAgfSk7XG59KTtcblxuLy8gUkVE5q616ZqO55So44OG44K544OI44OY44Or44OR44O877yI5aSx5pWX56K66KqN55So77yJXG5kZXNjcmliZSgn44OG44K544OI44OY44Or44OR44O85rqW5YKZ77yIUkVE5q616ZqO77yJJywgKCkgPT4ge1xuICBsZXQgdGVtcERpcjogc3RyaW5nO1xuXG4gIGJlZm9yZUFsbCgoKSA9PiB7XG4gICAgLy8g5LiA5pmC44OH44Kj44Os44Kv44OI44Oq5L2c5oiQXG4gICAgdGVtcERpciA9IHBhdGguam9pbih0bXBkaXIoKSwgJ2F3cy1jbG91ZC1zdXBwb3J0ZXItdGVzdCcpO1xuICAgIHRyeSB7XG4gICAgICBta2RpclN5bmModGVtcERpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyDml6LjgavlrZjlnKjjgZnjgovloLTlkIjjga/nhKHoppZcbiAgICB9XG4gIH0pO1xuXG4gIC8vIOacieWKueOBqllBTUzjg4bjg7Pjg5fjg6zjg7zjg4jnlKjjg4bjgrnjg4jjg4fjg7zjgr/kvZzmiJBcbiAgaXQoJ3Nob3VsZCBjcmVhdGUgdGVzdCBmaXh0dXJlcyBmb3IgWUFNTCB0ZW1wbGF0ZXMnLCAoKSA9PiB7XG4gICAgY29uc3QgdmFsaWRZYW1sVGVtcGxhdGUgPSBgXG5BV1NUZW1wbGF0ZUZvcm1hdFZlcnNpb246ICcyMDEwLTA5LTA5J1xuRGVzY3JpcHRpb246ICdUZXN0IENsb3VkRm9ybWF0aW9uIHRlbXBsYXRlJ1xuUmVzb3VyY2VzOlxuICBUZXN0REI6XG4gICAgVHlwZTogQVdTOjpSRFM6OkRCSW5zdGFuY2VcbiAgICBQcm9wZXJ0aWVzOlxuICAgICAgRW5naW5lOiBteXNxbFxuICAgICAgREJJbnN0YW5jZUNsYXNzOiBkYi50My5taWNyb1xuICAgICAgQWxsb2NhdGVkU3RvcmFnZTogMjBcbiAgVGVzdEZ1bmN0aW9uOlxuICAgIFR5cGU6IEFXUzo6TGFtYmRhOjpGdW5jdGlvblxuICAgIFByb3BlcnRpZXM6XG4gICAgICBSdW50aW1lOiBub2RlanMyMC54XG4gICAgICBIYW5kbGVyOiBpbmRleC5oYW5kbGVyXG4gICAgICBDb2RlOlxuICAgICAgICBaaXBGaWxlOiAnZXhwb3J0cy5oYW5kbGVyID0gYXN5bmMgKCkgPT4gKHsgc3RhdHVzQ29kZTogMjAwIH0pOydcbmA7XG5cbiAgICBjb25zdCB5YW1sUGF0aCA9IHBhdGguam9pbih0ZW1wRGlyLCAndmFsaWQtdGVtcGxhdGUueWFtbCcpO1xuICAgIHdyaXRlRmlsZVN5bmMoeWFtbFBhdGgsIHZhbGlkWWFtbFRlbXBsYXRlLCAndXRmOCcpO1xuICAgIFxuICAgIGV4cGVjdChyZWFkRmlsZVN5bmMoeWFtbFBhdGgsICd1dGY4JykpLnRvQ29udGFpbignQVdTVGVtcGxhdGVGb3JtYXRWZXJzaW9uJyk7XG4gIH0pO1xuXG4gIC8vIOacieWKueOBqkpTT07jg4bjg7Pjg5fjg6zjg7zjg4jnlKjjg4bjgrnjg4jjg4fjg7zjgr/kvZzmiJBcbiAgaXQoJ3Nob3VsZCBjcmVhdGUgdGVzdCBmaXh0dXJlcyBmb3IgSlNPTiB0ZW1wbGF0ZXMnLCAoKSA9PiB7XG4gICAgY29uc3QgdmFsaWRKc29uVGVtcGxhdGUgPSB7XG4gICAgICBcIkFXU1RlbXBsYXRlRm9ybWF0VmVyc2lvblwiOiBcIjIwMTAtMDktMDlcIixcbiAgICAgIFwiRGVzY3JpcHRpb25cIjogXCJUZXN0IENsb3VkRm9ybWF0aW9uIEpTT04gdGVtcGxhdGVcIixcbiAgICAgIFwiUmVzb3VyY2VzXCI6IHtcbiAgICAgICAgXCJUZXN0QnVja2V0XCI6IHtcbiAgICAgICAgICBcIlR5cGVcIjogXCJBV1M6OlMzOjpCdWNrZXRcIixcbiAgICAgICAgICBcIlByb3BlcnRpZXNcIjoge1xuICAgICAgICAgICAgXCJCdWNrZXROYW1lXCI6IFwidGVzdC1idWNrZXRcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJUZXN0QVBJXCI6IHtcbiAgICAgICAgICBcIlR5cGVcIjogXCJBV1M6OkFwaUdhdGV3YXk6OlJlc3RBcGlcIiwgXG4gICAgICAgICAgXCJQcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICAgIFwiTmFtZVwiOiBcInRlc3QtYXBpXCJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QganNvblBhdGggPSBwYXRoLmpvaW4odGVtcERpciwgJ3ZhbGlkLXRlbXBsYXRlLmpzb24nKTtcbiAgICB3cml0ZUZpbGVTeW5jKGpzb25QYXRoLCBKU09OLnN0cmluZ2lmeSh2YWxpZEpzb25UZW1wbGF0ZSwgbnVsbCwgMiksICd1dGY4Jyk7XG4gICAgXG4gICAgZXhwZWN0KEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKGpzb25QYXRoLCAndXRmOCcpKSkudG9IYXZlUHJvcGVydHkoJ1Jlc291cmNlcycpO1xuICB9KTtcblxuICAvLyDnhKHlirnjgapZQU1M44OG44Oz44OX44Os44O844OI55So44OG44K544OI44OH44O844K/5L2c5oiQ77yI5qeL5paH44Ko44Op44O877yJXG4gIGl0KCdzaG91bGQgY3JlYXRlIGludmFsaWQgWUFNTCB0ZXN0IGZpeHR1cmUnLCAoKSA9PiB7XG4gICAgY29uc3QgaW52YWxpZFlhbWxUZW1wbGF0ZSA9IGBcbkFXU1RlbXBsYXRlRm9ybWF0VmVyc2lvbjogJzIwMTAtMDktMDknXG5EZXNjcmlwdGlvbjogJ0ludmFsaWQgWUFNTCB0ZW1wbGF0ZSdcblJlc291cmNlczpcbiAgVGVzdERCOlxuICAgIFR5cGU6IEFXUzo6UkRTOjpEQkluc3RhbmNlXG4gICAgUHJvcGVydGllczpcbiAgICAgIEVuZ2luZTogbXlzcWxcbiAgICAgICMg5LiN5q2j44Gq44Kk44Oz44OH44Oz44OIXG4gICAgREJJbnN0YW5jZUNsYXNzOiBkYi50My5taWNyb1xuYDtcblxuICAgIGNvbnN0IGludmFsaWRZYW1sUGF0aCA9IHBhdGguam9pbih0ZW1wRGlyLCAnaW52YWxpZC1zeW50YXgueWFtbCcpO1xuICAgIHdyaXRlRmlsZVN5bmMoaW52YWxpZFlhbWxQYXRoLCBpbnZhbGlkWWFtbFRlbXBsYXRlLCAndXRmOCcpO1xuICAgIFxuICAgIGV4cGVjdChyZWFkRmlsZVN5bmMoaW52YWxpZFlhbWxQYXRoLCAndXRmOCcpKS50b0NvbnRhaW4oJ+S4jeato+OBquOCpOODs+ODh+ODs+ODiCcpO1xuICB9KTtcblxuICAvLyDnhKHlirnjgapKU09O44OG44Oz44OX44Os44O844OI55So44OG44K544OI44OH44O844K/5L2c5oiQ77yI5qeL5paH44Ko44Op44O877yJXG4gIGl0KCdzaG91bGQgY3JlYXRlIGludmFsaWQgSlNPTiB0ZXN0IGZpeHR1cmUnLCAoKSA9PiB7XG4gICAgY29uc3QgaW52YWxpZEpzb25UZW1wbGF0ZSA9IGB7XG4gIFwiQVdTVGVtcGxhdGVGb3JtYXRWZXJzaW9uXCI6IFwiMjAxMC0wOS0wOVwiLFxuICBcIkRlc2NyaXB0aW9uXCI6IFwiSW52YWxpZCBKU09OIHRlbXBsYXRlXCIsXG4gIFwiUmVzb3VyY2VzXCI6IHtcbiAgICBcIlRlc3RCdWNrZXRcIjoge1xuICAgICAgXCJUeXBlXCI6IFwiQVdTOjpTMzo6QnVja2V0XCIsXG4gICAgICBcIlByb3BlcnRpZXNcIjoge1xuICAgICAgICBcIkJ1Y2tldE5hbWVcIjogXCJ0ZXN0LWJ1Y2tldFwiXG4gICAgICB9XG4gICAgfSwgLy8g5LiN5q2j44Gq44Kr44Oz44OeXG4gIH1cbn1gO1xuXG4gICAgY29uc3QgaW52YWxpZEpzb25QYXRoID0gcGF0aC5qb2luKHRlbXBEaXIsICdpbnZhbGlkLXN5bnRheC5qc29uJyk7XG4gICAgd3JpdGVGaWxlU3luYyhpbnZhbGlkSnNvblBhdGgsIGludmFsaWRKc29uVGVtcGxhdGUsICd1dGY4Jyk7XG4gICAgXG4gICAgZXhwZWN0KHJlYWRGaWxlU3luYyhpbnZhbGlkSnNvblBhdGgsICd1dGY4JykpLnRvQ29udGFpbign5LiN5q2j44Gq44Kr44Oz44OeJyk7XG4gIH0pO1xuXG4gIC8vIOWkp+OBjeOBquODleOCoeOCpOODq+eUqOODhuOCueODiOODh+ODvOOCv+S9nOaIkO+8iOOCteOCpOOCuuWItumZkOODhuOCueODiOeUqO+8iVxuICBpdCgnc2hvdWxkIGNyZWF0ZSBsYXJnZSBmaWxlIHRlc3QgZml4dHVyZScsICgpID0+IHtcbiAgICBjb25zdCBsYXJnZVRlbXBsYXRlID0ge1xuICAgICAgQVdTVGVtcGxhdGVGb3JtYXRWZXJzaW9uOiBcIjIwMTAtMDktMDlcIixcbiAgICAgIERlc2NyaXB0aW9uOiBcIkxhcmdlIHRlbXBsYXRlIGZvciBzaXplIHRlc3RpbmdcIixcbiAgICAgIFJlc291cmNlczoge31cbiAgICB9O1xuXG4gICAgLy8g5aSn6YeP44Gu44Oq44K944O844K544KS55Sf5oiQ77yINTBNQui2heOCkuaooeaTrO+8iVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwMDA7IGkrKykge1xuICAgICAgbGFyZ2VUZW1wbGF0ZS5SZXNvdXJjZXNbYFJlc291cmNlJHtpfWBdID0ge1xuICAgICAgICBUeXBlOiBcIkFXUzo6UzM6OkJ1Y2tldFwiLFxuICAgICAgICBQcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgQnVja2V0TmFtZTogYGJ1Y2tldC0ke2l9YCxcbiAgICAgICAgICBEZXNjcmlwdGlvbjogYFRlc3QgYnVja2V0IG51bWJlciAke2l9IGZvciBsYXJnZSB0ZW1wbGF0ZSBzaXplIHRlc3Rpbmcgd2l0aCBsb25nIGRlc2NyaXB0aW9uIHRvIGluY3JlYXNlIGZpbGUgc2l6ZSBzaWduaWZpY2FudGx5YFxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IGxhcmdlUGF0aCA9IHBhdGguam9pbih0ZW1wRGlyLCAnbGFyZ2UtdGVtcGxhdGUuanNvbicpO1xuICAgIHdyaXRlRmlsZVN5bmMobGFyZ2VQYXRoLCBKU09OLnN0cmluZ2lmeShsYXJnZVRlbXBsYXRlLCBudWxsLCAyKSwgJ3V0ZjgnKTtcbiAgICBcbiAgICBjb25zdCBzdGF0cyA9IHJlcXVpcmUoJ2ZzJykuc3RhdFN5bmMobGFyZ2VQYXRoKTtcbiAgICBleHBlY3Qoc3RhdHMuc2l6ZSkudG9CZUdyZWF0ZXJUaGFuKDEwMjQgKiAxMDI0KTsgLy8gMU1C5Lul5LiKXG4gIH0pO1xufSk7Il0sInZlcnNpb24iOjN9