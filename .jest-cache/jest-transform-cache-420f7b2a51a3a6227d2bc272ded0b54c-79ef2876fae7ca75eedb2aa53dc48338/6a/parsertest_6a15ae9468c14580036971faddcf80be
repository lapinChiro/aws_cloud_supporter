8e7993f43260ff1f107419ed12fd50bc
"use strict";
// CLAUDE.md準拠TemplateParserテスト（RED段階: Don't Reinvent the Wheel + Type-Driven）
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const fs_1 = require("fs");
const path_1 = __importDefault(require("path"));
const os_1 = require("os");
describe('TemplateParser型安全解析（CLAUDE.md: TDD RED段階）', () => {
    // RED段階: TemplateParserが存在しないことを確認
    it('should fail until TemplateParser is implemented', () => {
        expect(() => {
            require('../../../src/core/parser');
        }).toThrow(); // まだファイル未実装で失敗
    });
    // YAML解析テスト（GREEN段階: 実装確認）
    it('should parse valid YAML CloudFormation template', async () => {
        const { TemplateParser } = require('../../../src/core/parser');
        const parser = new TemplateParser();
        const yamlPath = path_1.default.join(tempDir, 'valid-template.yaml');
        const template = await parser.parse(yamlPath);
        expect(template).toBeDefined();
        expect(template.AWSTemplateFormatVersion).toBe('2010-09-09');
        expect(template.Resources).toBeDefined();
        expect(template.Resources.TestDB).toBeDefined();
        expect(template.Resources.TestFunction).toBeDefined();
    });
    // JSON解析テスト（GREEN段階: 実装確認）
    it('should parse valid JSON CloudFormation template', async () => {
        const { TemplateParser } = require('../../../src/core/parser');
        const parser = new TemplateParser();
        const jsonPath = path_1.default.join(tempDir, 'valid-template.json');
        const template = await parser.parse(jsonPath);
        expect(template).toBeDefined();
        expect(template.AWSTemplateFormatVersion).toBe('2010-09-09');
        expect(template.Resources).toBeDefined();
        expect(template.Resources.TestBucket).toBeDefined();
        expect(template.Resources.TestAPI).toBeDefined();
    });
    // ファイル存在エラーテスト（CloudSupporterError統合）
    it('should handle file not found error', async () => {
        const { TemplateParser } = require('../../../src/core/parser');
        const { isFileError } = require('../../../src/utils/error');
        const parser = new TemplateParser();
        const nonExistentPath = path_1.default.join(tempDir, 'non-existent.yaml');
        await expect(parser.parse(nonExistentPath)).rejects.toThrow();
        try {
            await parser.parse(nonExistentPath);
        }
        catch (error) {
            expect(isFileError(error)).toBe(true);
            expect(error.filePath).toBe(nonExistentPath);
        }
    });
    // ファイルサイズ制限テスト（50MB制限）
    it('should reject files larger than 50MB', async () => {
        const { TemplateParser } = require('../../../src/core/parser');
        const { isFileError } = require('../../../src/utils/error');
        const parser = new TemplateParser();
        const largePath = path_1.default.join(tempDir, 'large-template.json');
        await expect(parser.parse(largePath)).rejects.toThrow();
        try {
            await parser.parse(largePath);
        }
        catch (error) {
            expect(isFileError(error)).toBe(true);
            expect(error.message).toContain('too large');
            expect(error.details?.fileSize).toBeGreaterThan(50 * 1024 * 1024);
        }
    });
    // 読み込み時間制限テスト（5秒制限、モック使用）
    it('should timeout file reading after 5 seconds', async () => {
        // 実際の5秒待ちは避けて、モック使用
        const { TemplateParser } = require('../../../src/core/parser');
        const parser = new TemplateParser();
        // 通常サイズのファイルは5秒以内で読み込める想定
        const yamlPath = path_1.default.join(tempDir, 'valid-template.yaml');
        const startTime = performance.now();
        await parser.parse(yamlPath);
        const duration = performance.now() - startTime;
        expect(duration).toBeLessThan(5000);
    });
    // YAML構文エラーハンドリングテスト
    it('should provide detailed YAML syntax error', async () => {
        const { TemplateParser } = require('../../../src/core/parser');
        const { isParseError } = require('../../../src/utils/error');
        const parser = new TemplateParser();
        const invalidYamlPath = path_1.default.join(tempDir, 'invalid-syntax.yaml');
        await expect(parser.parse(invalidYamlPath)).rejects.toThrow();
        try {
            await parser.parse(invalidYamlPath);
        }
        catch (error) {
            expect(isParseError(error)).toBe(true);
            expect(error.message).toContain('YAML syntax error');
        }
    });
    // JSON構文エラーハンドリングテスト
    it('should provide detailed JSON syntax error with position', async () => {
        const { TemplateParser } = require('../../../src/core/parser');
        const { isParseError } = require('../../../src/utils/error');
        const parser = new TemplateParser();
        const invalidJsonPath = path_1.default.join(tempDir, 'invalid-syntax.json');
        await expect(parser.parse(invalidJsonPath)).rejects.toThrow();
        try {
            await parser.parse(invalidJsonPath);
        }
        catch (error) {
            expect(isParseError(error)).toBe(true);
            expect(error.message).toContain('JSON syntax error');
            expect(error.details?.nearText).toBeDefined();
        }
    });
    // CloudFormation構造検証テスト
    it('should validate CloudFormation template structure', async () => {
        const { TemplateParser } = require('../../../src/core/parser');
        const parser = new TemplateParser();
        // 有効なテンプレートの解析
        const validPath = path_1.default.join(tempDir, 'valid-template.yaml');
        const template = await parser.parse(validPath);
        expect(template).toBeValidCloudFormationResource();
        expect(Object.keys(template.Resources)).toHaveLength(2);
    });
    // CLAUDE.md: No any types検証
    it('should not use any types in parser implementation', () => {
        const parserCode = (0, fs_1.readFileSync)(path_1.default.join(__dirname, '../../../src/core/parser.ts'), 'utf8');
        expect(parserCode).toHaveNoAnyTypes();
    });
    // 型安全性テスト（CloudFormationTemplate型）
    it('should return properly typed CloudFormationTemplate', async () => {
        const { TemplateParser } = require('../../../src/core/parser');
        const parser = new TemplateParser();
        const yamlPath = path_1.default.join(tempDir, 'valid-template.yaml');
        const template = await parser.parse(yamlPath);
        // TypeScript型推論により型安全
        expect(typeof template.AWSTemplateFormatVersion).toBe('string');
        expect(typeof template.Description).toBe('string');
        expect(typeof template.Resources).toBe('object');
        // リソースの型安全性
        const testDB = template.Resources.TestDB;
        expect(testDB).toBeDefined();
        expect(testDB.Type).toBe('AWS::RDS::DBInstance');
    });
});
describe('TemplateParserパフォーマンステスト（CLAUDE.md: 性能要件）', () => {
    // パフォーマンス要件テスト（通常ファイルは5秒以内）
    it('should parse normal templates within performance limits', async () => {
        const { TemplateParser } = require('../../../src/core/parser');
        const parser = new TemplateParser();
        const yamlPath = path_1.default.join(tempDir, 'valid-template.yaml');
        const startTime = performance.now();
        const template = await parser.parse(yamlPath);
        const duration = performance.now() - startTime;
        expect(duration).toBeLessThan(1000); // 通常ファイルは1秒以内
        expect(template).toBeDefined();
    });
    // メモリ効率テスト（適切なリソース管理）  
    it('should handle files efficiently without memory leaks', async () => {
        const { TemplateParser } = require('../../../src/core/parser');
        // 複数回の解析でメモリリークがないことを確認
        const parser = new TemplateParser();
        const yamlPath = path_1.default.join(tempDir, 'valid-template.yaml');
        for (let i = 0; i < 10; i++) {
            const template = await parser.parse(yamlPath);
            expect(template.Resources).toBeDefined();
        }
        // メモリ使用量が合理的範囲内
        const memoryUsage = process.memoryUsage().heapUsed / 1024 / 1024;
        expect(memoryUsage).toBeLessThan(100); // 100MB以下
    });
    // 並行解析テスト（型安全性）
    it('should handle concurrent parsing requests safely', async () => {
        const { TemplateParser } = require('../../../src/core/parser');
        const parser = new TemplateParser();
        const yamlPath = path_1.default.join(tempDir, 'valid-template.yaml');
        const jsonPath = path_1.default.join(tempDir, 'valid-template.json');
        // 並行解析
        const promises = [
            parser.parse(yamlPath),
            parser.parse(jsonPath),
            parser.parse(yamlPath),
            parser.parse(jsonPath)
        ];
        const templates = await Promise.all(promises);
        expect(templates).toHaveLength(4);
        templates.forEach(template => {
            expect(template.Resources).toBeDefined();
        });
    });
});
describe('TemplateParserエラーハンドリング統合（CLAUDE.md: 型安全エラー処理）', () => {
    // CloudSupporterErrorシステム統合確認
    it('should integrate with CloudSupporterError system', async () => {
        const { TemplateParser } = require('../../../src/core/parser');
        const { CloudSupporterError, ErrorType } = require('../../../src/utils/error');
        const parser = new TemplateParser();
        const nonExistentPath = '/non/existent/file.yaml';
        try {
            await parser.parse(nonExistentPath);
        }
        catch (error) {
            expect(error).toBeInstanceOf(CloudSupporterError);
            expect(error.type).toBe(ErrorType.FILE_ERROR);
            expect(error.filePath).toBe(nonExistentPath);
            // 構造化出力確認
            const structured = error.toStructuredOutput();
            expect(structured.error).toBe('FILE_ERROR');
            expect(structured.filePath).toBe(nonExistentPath);
            expect(structured.timestamp).toBeDefined();
        }
    });
    // エラー提案メッセージテスト（ユーザビリティ）
    it('should provide helpful error suggestions via CloudSupporterError', async () => {
        const { TemplateParser } = require('../../../src/core/parser');
        const parser = new TemplateParser();
        const invalidJsonPath = path_1.default.join(tempDir, 'invalid-syntax.json');
        try {
            await parser.parse(invalidJsonPath);
        }
        catch (error) {
            // エラーメッセージの有用性確認
            expect(error.message).toContain('syntax error');
            expect(error.details).toBeDefined();
            // ErrorHandlerのgetSuggestionは内部メソッドなので
            // エラータイプが正しいことのみ確認
            expect(error.type).toBe('PARSE_ERROR');
        }
    });
    // 構造化エラー出力テスト（型安全性）
    it('should output structured error information', async () => {
        const { TemplateParser } = require('../../../src/core/parser');
        const parser = new TemplateParser();
        // 空のResourcesセクションでエラー
        const emptyResourcesTemplate = `
AWSTemplateFormatVersion: '2010-09-09'
Resources: {}
`;
        const tempPath = path_1.default.join(tempDir, 'empty-resources.yaml');
        (0, fs_1.writeFileSync)(tempPath, emptyResourcesTemplate, 'utf8');
        try {
            await parser.parse(tempPath);
        }
        catch (error) {
            const structured = error.toStructuredOutput();
            expect(structured.error).toBe('PARSE_ERROR');
            expect(structured.message).toContain('Resources section is empty');
            expect(structured.filePath).toBe(tempPath);
            expect(structured.details?.nearText).toContain('at least one resource');
        }
    });
});
// RED段階用テストヘルパー（失敗確認用）
describe('テストヘルパー準備（RED段階）', () => {
    let tempDir;
    beforeAll(() => {
        // 一時ディレクトリ作成
        tempDir = path_1.default.join((0, os_1.tmpdir)(), 'aws-cloud-supporter-test');
        try {
            (0, fs_1.mkdirSync)(tempDir, { recursive: true });
        }
        catch {
            // 既に存在する場合は無視
        }
    });
    // 有効なYAMLテンプレート用テストデータ作成
    it('should create test fixtures for YAML templates', () => {
        const validYamlTemplate = `
AWSTemplateFormatVersion: '2010-09-09'
Description: 'Test CloudFormation template'
Resources:
  TestDB:
    Type: AWS::RDS::DBInstance
    Properties:
      Engine: mysql
      DBInstanceClass: db.t3.micro
      AllocatedStorage: 20
  TestFunction:
    Type: AWS::Lambda::Function
    Properties:
      Runtime: nodejs20.x
      Handler: index.handler
      Code:
        ZipFile: 'exports.handler = async () => ({ statusCode: 200 });'
`;
        const yamlPath = path_1.default.join(tempDir, 'valid-template.yaml');
        (0, fs_1.writeFileSync)(yamlPath, validYamlTemplate, 'utf8');
        expect((0, fs_1.readFileSync)(yamlPath, 'utf8')).toContain('AWSTemplateFormatVersion');
    });
    // 有効なJSONテンプレート用テストデータ作成
    it('should create test fixtures for JSON templates', () => {
        const validJsonTemplate = {
            "AWSTemplateFormatVersion": "2010-09-09",
            "Description": "Test CloudFormation JSON template",
            "Resources": {
                "TestBucket": {
                    "Type": "AWS::S3::Bucket",
                    "Properties": {
                        "BucketName": "test-bucket"
                    }
                },
                "TestAPI": {
                    "Type": "AWS::ApiGateway::RestApi",
                    "Properties": {
                        "Name": "test-api"
                    }
                }
            }
        };
        const jsonPath = path_1.default.join(tempDir, 'valid-template.json');
        (0, fs_1.writeFileSync)(jsonPath, JSON.stringify(validJsonTemplate, null, 2), 'utf8');
        expect(JSON.parse((0, fs_1.readFileSync)(jsonPath, 'utf8'))).toHaveProperty('Resources');
    });
    // 無効なYAMLテンプレート用テストデータ作成（構文エラー）
    it('should create invalid YAML test fixture', () => {
        const invalidYamlTemplate = `
AWSTemplateFormatVersion: '2010-09-09'
Description: 'Invalid YAML template'
Resources:
  TestDB:
    Type: AWS::RDS::DBInstance
    Properties:
      Engine: mysql
      # 不正なインデント
    DBInstanceClass: db.t3.micro
`;
        const invalidYamlPath = path_1.default.join(tempDir, 'invalid-syntax.yaml');
        (0, fs_1.writeFileSync)(invalidYamlPath, invalidYamlTemplate, 'utf8');
        expect((0, fs_1.readFileSync)(invalidYamlPath, 'utf8')).toContain('不正なインデント');
    });
    // 無効なJSONテンプレート用テストデータ作成（構文エラー）
    it('should create invalid JSON test fixture', () => {
        const invalidJsonTemplate = `{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "Invalid JSON template",
  "Resources": {
    "TestBucket": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketName": "test-bucket"
      }
    }, // 不正なカンマ
  }
}`;
        const invalidJsonPath = path_1.default.join(tempDir, 'invalid-syntax.json');
        (0, fs_1.writeFileSync)(invalidJsonPath, invalidJsonTemplate, 'utf8');
        expect((0, fs_1.readFileSync)(invalidJsonPath, 'utf8')).toContain('不正なカンマ');
    });
    // 大きなファイル用テストデータ作成（サイズ制限テスト用）
    it('should create large file test fixture', () => {
        const largeTemplate = {
            AWSTemplateFormatVersion: "2010-09-09",
            Description: "Large template for size testing",
            Resources: {}
        };
        // 大量のリソースを生成（50MB超を模擬）
        for (let i = 0; i < 10000; i++) {
            largeTemplate.Resources[`Resource${i}`] = {
                Type: "AWS::S3::Bucket",
                Properties: {
                    BucketName: `bucket-${i}`,
                    Description: `Test bucket number ${i} for large template size testing with long description to increase file size significantly`
                }
            };
        }
        const largePath = path_1.default.join(tempDir, 'large-template.json');
        (0, fs_1.writeFileSync)(largePath, JSON.stringify(largeTemplate, null, 2), 'utf8');
        const stats = require('fs').statSync(largePath);
        expect(stats.size).toBeGreaterThan(1024 * 1024); // 1MB以上
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUva3lvaGVpL2F3c19jbG91ZF9zdXBwb3J0ZXIvdGVzdHMvdW5pdC9jb3JlL3BhcnNlci50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQSw4RUFBOEU7Ozs7O0FBRTlFLDJCQUE0RDtBQUM1RCxnREFBd0I7QUFDeEIsMkJBQTRCO0FBRTVCLFFBQVEsQ0FBQywyQ0FBMkMsRUFBRSxHQUFHLEVBQUU7SUFFekQsbUNBQW1DO0lBQ25DLEVBQUUsQ0FBQyxpREFBaUQsRUFBRSxHQUFHLEVBQUU7UUFDekQsTUFBTSxDQUFDLEdBQUcsRUFBRTtZQUNWLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1FBQ3RDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsZUFBZTtJQUMvQixDQUFDLENBQUMsQ0FBQztJQUVILDJCQUEyQjtJQUMzQixFQUFFLENBQUMsaURBQWlELEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDL0QsTUFBTSxFQUFFLGNBQWMsRUFBRSxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1FBQy9ELE1BQU0sTUFBTSxHQUFHLElBQUksY0FBYyxFQUFFLENBQUM7UUFFcEMsTUFBTSxRQUFRLEdBQUcsY0FBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUscUJBQXFCLENBQUMsQ0FBQztRQUMzRCxNQUFNLFFBQVEsR0FBRyxNQUFNLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFOUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQy9CLE1BQU0sQ0FBQyxRQUFRLENBQUMsd0JBQXdCLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDN0QsTUFBTSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUN6QyxNQUFNLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNoRCxNQUFNLENBQUMsUUFBUSxDQUFD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QUU7b0JBQ3pCLFdBQVcsRUFBRSxzQkFBc0IsQ0FBQyw0RkFBNEY7aUJBQ2pJO2FBQ0YsQ0FBQztRQUNKLENBQUM7UUFFRCxNQUFNLFNBQVMsR0FBRyxjQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO1FBQzVELElBQUEsa0JBQWEsRUFBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRXpFLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDaEQsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxlQUFlLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUTtJQUMzRCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL2t5b2hlaS9hd3NfY2xvdWRfc3VwcG9ydGVyL3Rlc3RzL3VuaXQvY29yZS9wYXJzZXIudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDTEFVREUubWTmupbmi6BUZW1wbGF0ZVBhcnNlcuODhuOCueODiO+8iFJFROautemajjogRG9uJ3QgUmVpbnZlbnQgdGhlIFdoZWVsICsgVHlwZS1Ecml2ZW7vvIlcblxuaW1wb3J0IHsgcmVhZEZpbGVTeW5jLCB3cml0ZUZpbGVTeW5jLCBta2RpclN5bmMgfSBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IHRtcGRpciB9IGZyb20gJ29zJztcblxuZGVzY3JpYmUoJ1RlbXBsYXRlUGFyc2Vy5Z6L5a6J5YWo6Kej5p6Q77yIQ0xBVURFLm1kOiBUREQgUkVE5q616ZqO77yJJywgKCkgPT4ge1xuXG4gIC8vIFJFROautemajjogVGVtcGxhdGVQYXJzZXLjgYzlrZjlnKjjgZfjgarjgYTjgZPjgajjgpLnorroqo1cbiAgaXQoJ3Nob3VsZCBmYWlsIHVudGlsIFRlbXBsYXRlUGFyc2VyIGlzIGltcGxlbWVudGVkJywgKCkgPT4ge1xuICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICByZXF1aXJlKCcuLi8uLi8uLi9zcmMvY29yZS9wYXJzZXInKTtcbiAgICB9KS50b1Rocm93KCk7IC8vIOOBvuOBoOODleOCoeOCpOODq+acquWun+ijheOBp+WkseaVl1xuICB9KTtcblxuICAvLyBZQU1M6Kej5p6Q44OG44K544OI77yIR1JFRU7mrrXpmo46IOWun+ijheeiuuiqje+8iVxuICBpdCgnc2hvdWxkIHBhcnNlIHZhbGlkIFlBTUwgQ2xvdWRGb3JtYXRpb24gdGVtcGxhdGUnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBUZW1wbGF0ZVBhcnNlciB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2NvcmUvcGFyc2VyJyk7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IFRlbXBsYXRlUGFyc2VyKCk7XG4gICAgXG4gICAgY29uc3QgeWFtbFBhdGggPSBwYXRoLmpvaW4odGVtcERpciwgJ3ZhbGlkLXRlbXBsYXRlLnlhbWwnKTtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IHBhcnNlci5wYXJzZSh5YW1sUGF0aCk7XG4gICAgXG4gICAgZXhwZWN0KHRlbXBsYXRlKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdCh0ZW1wbGF0ZS5BV1NUZW1wbGF0ZUZvcm1hdFZlcnNpb24pLnRvQmUoJzIwMTAtMDktMDknKTtcbiAgICBleHBlY3QodGVtcGxhdGUuUmVzb3VyY2VzKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdCh0ZW1wbGF0ZS5SZXNvdXJjZXMuVGVzdERCKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdCh0ZW1wbGF0ZS5SZXNvdXJjZXMuVGVzdEZ1bmN0aW9uKS50b0JlRGVmaW5lZCgpO1xuICB9KTtcblxuICAvLyBKU09O6Kej5p6Q44OG44K544OI77yIR1JFRU7mrrXpmo46IOWun+ijheeiuuiqje+8iVxuICBpdCgnc2hvdWxkIHBhcnNlIHZhbGlkIEpTT04gQ2xvdWRGb3JtYXRpb24gdGVtcGxhdGUnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBUZW1wbGF0ZVBhcnNlciB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2NvcmUvcGFyc2VyJyk7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IFRlbXBsYXRlUGFyc2VyKCk7XG4gICAgXG4gICAgY29uc3QganNvblBhdGggPSBwYXRoLmpvaW4odGVtcERpciwgJ3ZhbGlkLXRlbXBsYXRlLmpzb24nKTtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IHBhcnNlci5wYXJzZShqc29uUGF0aCk7XG4gICAgXG4gICAgZXhwZWN0KHRlbXBsYXRlKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdCh0ZW1wbGF0ZS5BV1NUZW1wbGF0ZUZvcm1hdFZlcnNpb24pLnRvQmUoJzIwMTAtMDktMDknKTtcbiAgICBleHBlY3QodGVtcGxhdGUuUmVzb3VyY2VzKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdCh0ZW1wbGF0ZS5SZXNvdXJjZXMuVGVzdEJ1Y2tldCkudG9CZURlZmluZWQoKTtcbiAgICBleHBlY3QodGVtcGxhdGUuUmVzb3VyY2VzLlRlc3RBUEkpLnRvQmVEZWZpbmVkKCk7XG4gIH0pO1xuXG4gIC8vIOODleOCoeOCpOODq+WtmOWcqOOCqOODqeODvOODhuOCueODiO+8iENsb3VkU3VwcG9ydGVyRXJyb3LntbHlkIjvvIlcbiAgaXQoJ3Nob3VsZCBoYW5kbGUgZmlsZSBub3QgZm91bmQgZXJyb3InLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBUZW1wbGF0ZVBhcnNlciB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2NvcmUvcGFyc2VyJyk7XG4gICAgY29uc3QgeyBpc0ZpbGVFcnJvciB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL3V0aWxzL2Vycm9yJyk7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IFRlbXBsYXRlUGFyc2VyKCk7XG4gICAgXG4gICAgY29uc3Qgbm9uRXhpc3RlbnRQYXRoID0gcGF0aC5qb2luKHRlbXBEaXIsICdub24tZXhpc3RlbnQueWFtbCcpO1xuICAgIFxuICAgIGF3YWl0IGV4cGVjdChwYXJzZXIucGFyc2Uobm9uRXhpc3RlbnRQYXRoKSkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHBhcnNlci5wYXJzZShub25FeGlzdGVudFBhdGgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBleHBlY3QoaXNGaWxlRXJyb3IoZXJyb3IpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGVycm9yLmZpbGVQYXRoKS50b0JlKG5vbkV4aXN0ZW50UGF0aCk7XG4gICAgfVxuICB9KTtcblxuICAvLyDjg5XjgqHjgqTjg6vjgrXjgqTjgrrliLbpmZDjg4bjgrnjg4jvvIg1ME1C5Yi26ZmQ77yJXG4gIGl0KCdzaG91bGQgcmVqZWN0IGZpbGVzIGxhcmdlciB0aGFuIDUwTUInLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBUZW1wbGF0ZVBhcnNlciB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2NvcmUvcGFyc2VyJyk7XG4gICAgY29uc3QgeyBpc0ZpbGVFcnJvciB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL3V0aWxzL2Vycm9yJyk7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IFRlbXBsYXRlUGFyc2VyKCk7XG4gICAgXG4gICAgY29uc3QgbGFyZ2VQYXRoID0gcGF0aC5qb2luKHRlbXBEaXIsICdsYXJnZS10ZW1wbGF0ZS5qc29uJyk7XG4gICAgXG4gICAgYXdhaXQgZXhwZWN0KHBhcnNlci5wYXJzZShsYXJnZVBhdGgpKS5yZWplY3RzLnRvVGhyb3coKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcGFyc2VyLnBhcnNlKGxhcmdlUGF0aCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGV4cGVjdChpc0ZpbGVFcnJvcihlcnJvcikpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG9Db250YWluKCd0b28gbGFyZ2UnKTtcbiAgICAgIGV4cGVjdChlcnJvci5kZXRhaWxzPy5maWxlU2l6ZSkudG9CZUdyZWF0ZXJUaGFuKDUwICogMTAyNCAqIDEwMjQpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8g6Kqt44G/6L6844G/5pmC6ZaT5Yi26ZmQ44OG44K544OI77yINeenkuWItumZkOOAgeODouODg+OCr+S9v+eUqO+8iVxuICBpdCgnc2hvdWxkIHRpbWVvdXQgZmlsZSByZWFkaW5nIGFmdGVyIDUgc2Vjb25kcycsIGFzeW5jICgpID0+IHtcbiAgICAvLyDlrp/pmpvjga4156eS5b6F44Gh44Gv6YG/44GR44Gm44CB44Oi44OD44Kv5L2/55SoXG4gICAgY29uc3QgeyBUZW1wbGF0ZVBhcnNlciB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2NvcmUvcGFyc2VyJyk7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IFRlbXBsYXRlUGFyc2VyKCk7XG4gICAgXG4gICAgLy8g6YCa5bi444K144Kk44K644Gu44OV44Kh44Kk44Or44GvNeenkuS7peWGheOBp+iqreOBv+i+vOOCgeOCi+aDs+WumlxuICAgIGNvbnN0IHlhbWxQYXRoID0gcGF0aC5qb2luKHRlbXBEaXIsICd2YWxpZC10ZW1wbGF0ZS55YW1sJyk7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgYXdhaXQgcGFyc2VyLnBhcnNlKHlhbWxQYXRoKTtcbiAgICBjb25zdCBkdXJhdGlvbiA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgIFxuICAgIGV4cGVjdChkdXJhdGlvbikudG9CZUxlc3NUaGFuKDUwMDApO1xuICB9KTtcblxuICAvLyBZQU1M5qeL5paH44Ko44Op44O844OP44Oz44OJ44Oq44Oz44Kw44OG44K544OIXG4gIGl0KCdzaG91bGQgcHJvdmlkZSBkZXRhaWxlZCBZQU1MIHN5bnRheCBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IFRlbXBsYXRlUGFyc2VyIH0gPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvY29yZS9wYXJzZXInKTtcbiAgICBjb25zdCB7IGlzUGFyc2VFcnJvciB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL3V0aWxzL2Vycm9yJyk7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IFRlbXBsYXRlUGFyc2VyKCk7XG4gICAgXG4gICAgY29uc3QgaW52YWxpZFlhbWxQYXRoID0gcGF0aC5qb2luKHRlbXBEaXIsICdpbnZhbGlkLXN5bnRheC55YW1sJyk7XG4gICAgXG4gICAgYXdhaXQgZXhwZWN0KHBhcnNlci5wYXJzZShpbnZhbGlkWWFtbFBhdGgpKS5yZWplY3RzLnRvVGhyb3coKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcGFyc2VyLnBhcnNlKGludmFsaWRZYW1sUGF0aCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGV4cGVjdChpc1BhcnNlRXJyb3IoZXJyb3IpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvQ29udGFpbignWUFNTCBzeW50YXggZXJyb3InKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEpTT07mp4vmlofjgqjjg6njg7zjg4/jg7Pjg4njg6rjg7PjgrDjg4bjgrnjg4hcbiAgaXQoJ3Nob3VsZCBwcm92aWRlIGRldGFpbGVkIEpTT04gc3ludGF4IGVycm9yIHdpdGggcG9zaXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBUZW1wbGF0ZVBhcnNlciB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2NvcmUvcGFyc2VyJyk7XG4gICAgY29uc3QgeyBpc1BhcnNlRXJyb3IgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy91dGlscy9lcnJvcicpO1xuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBUZW1wbGF0ZVBhcnNlcigpO1xuICAgIFxuICAgIGNvbnN0IGludmFsaWRKc29uUGF0aCA9IHBhdGguam9pbih0ZW1wRGlyLCAnaW52YWxpZC1zeW50YXguanNvbicpO1xuICAgIFxuICAgIGF3YWl0IGV4cGVjdChwYXJzZXIucGFyc2UoaW52YWxpZEpzb25QYXRoKSkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHBhcnNlci5wYXJzZShpbnZhbGlkSnNvblBhdGgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBleHBlY3QoaXNQYXJzZUVycm9yKGVycm9yKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChlcnJvci5tZXNzYWdlKS50b0NvbnRhaW4oJ0pTT04gc3ludGF4IGVycm9yJyk7XG4gICAgICBleHBlY3QoZXJyb3IuZGV0YWlscz8ubmVhclRleHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBDbG91ZEZvcm1hdGlvbuani+mAoOaknOiovOODhuOCueODiFxuICBpdCgnc2hvdWxkIHZhbGlkYXRlIENsb3VkRm9ybWF0aW9uIHRlbXBsYXRlIHN0cnVjdHVyZScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IFRlbXBsYXRlUGFyc2VyIH0gPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvY29yZS9wYXJzZXInKTtcbiAgICBjb25zdCBwYXJzZXIgPSBuZXcgVGVtcGxhdGVQYXJzZXIoKTtcbiAgICBcbiAgICAvLyDmnInlirnjgarjg4bjg7Pjg5fjg6zjg7zjg4jjga7op6PmnpBcbiAgICBjb25zdCB2YWxpZFBhdGggPSBwYXRoLmpvaW4odGVtcERpciwgJ3ZhbGlkLXRlbXBsYXRlLnlhbWwnKTtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IHBhcnNlci5wYXJzZSh2YWxpZFBhdGgpO1xuICAgIFxuICAgIGV4cGVjdCh0ZW1wbGF0ZSkudG9CZVZhbGlkQ2xvdWRGb3JtYXRpb25SZXNvdXJjZSgpO1xuICAgIGV4cGVjdChPYmplY3Qua2V5cyh0ZW1wbGF0ZS5SZXNvdXJjZXMpKS50b0hhdmVMZW5ndGgoMik7XG4gIH0pO1xuXG4gIC8vIENMQVVERS5tZDogTm8gYW55IHR5cGVz5qSc6Ki8XG4gIGl0KCdzaG91bGQgbm90IHVzZSBhbnkgdHlwZXMgaW4gcGFyc2VyIGltcGxlbWVudGF0aW9uJywgKCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlckNvZGUgPSByZWFkRmlsZVN5bmMoXG4gICAgICBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vLi4vLi4vc3JjL2NvcmUvcGFyc2VyLnRzJyksXG4gICAgICAndXRmOCdcbiAgICApO1xuICAgIGV4cGVjdChwYXJzZXJDb2RlKS50b0hhdmVOb0FueVR5cGVzKCk7XG4gIH0pO1xuXG4gIC8vIOWei+WuieWFqOaAp+ODhuOCueODiO+8iENsb3VkRm9ybWF0aW9uVGVtcGxhdGXlnovvvIlcbiAgaXQoJ3Nob3VsZCByZXR1cm4gcHJvcGVybHkgdHlwZWQgQ2xvdWRGb3JtYXRpb25UZW1wbGF0ZScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IFRlbXBsYXRlUGFyc2VyIH0gPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvY29yZS9wYXJzZXInKTtcbiAgICBjb25zdCBwYXJzZXIgPSBuZXcgVGVtcGxhdGVQYXJzZXIoKTtcbiAgICBcbiAgICBjb25zdCB5YW1sUGF0aCA9IHBhdGguam9pbih0ZW1wRGlyLCAndmFsaWQtdGVtcGxhdGUueWFtbCcpO1xuICAgIGNvbnN0IHRlbXBsYXRlID0gYXdhaXQgcGFyc2VyLnBhcnNlKHlhbWxQYXRoKTtcbiAgICBcbiAgICAvLyBUeXBlU2NyaXB05Z6L5o6o6KuW44Gr44KI44KK5Z6L5a6J5YWoXG4gICAgZXhwZWN0KHR5cGVvZiB0ZW1wbGF0ZS5BV1NUZW1wbGF0ZUZvcm1hdFZlcnNpb24pLnRvQmUoJ3N0cmluZycpO1xuICAgIGV4cGVjdCh0eXBlb2YgdGVtcGxhdGUuRGVzY3JpcHRpb24pLnRvQmUoJ3N0cmluZycpO1xuICAgIGV4cGVjdCh0eXBlb2YgdGVtcGxhdGUuUmVzb3VyY2VzKS50b0JlKCdvYmplY3QnKTtcbiAgICBcbiAgICAvLyDjg6rjgr3jg7zjgrnjga7lnovlronlhajmgKdcbiAgICBjb25zdCB0ZXN0REIgPSB0ZW1wbGF0ZS5SZXNvdXJjZXMuVGVzdERCO1xuICAgIGV4cGVjdCh0ZXN0REIpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KHRlc3REQi5UeXBlKS50b0JlKCdBV1M6OlJEUzo6REJJbnN0YW5jZScpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnVGVtcGxhdGVQYXJzZXLjg5Hjg5Xjgqnjg7zjg57jg7Pjgrnjg4bjgrnjg4jvvIhDTEFVREUubWQ6IOaAp+iDveimgeS7tu+8iScsICgpID0+IHtcblxuICAvLyDjg5Hjg5Xjgqnjg7zjg57jg7PjgrnopoHku7bjg4bjgrnjg4jvvIjpgJrluLjjg5XjgqHjgqTjg6vjga8156eS5Lul5YaF77yJXG4gIGl0KCdzaG91bGQgcGFyc2Ugbm9ybWFsIHRlbXBsYXRlcyB3aXRoaW4gcGVyZm9ybWFuY2UgbGltaXRzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgVGVtcGxhdGVQYXJzZXIgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9jb3JlL3BhcnNlcicpO1xuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBUZW1wbGF0ZVBhcnNlcigpO1xuICAgIFxuICAgIGNvbnN0IHlhbWxQYXRoID0gcGF0aC5qb2luKHRlbXBEaXIsICd2YWxpZC10ZW1wbGF0ZS55YW1sJyk7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgXG4gICAgY29uc3QgdGVtcGxhdGUgPSBhd2FpdCBwYXJzZXIucGFyc2UoeWFtbFBhdGgpO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWU7XG4gICAgXG4gICAgZXhwZWN0KGR1cmF0aW9uKS50b0JlTGVzc1RoYW4oMTAwMCk7IC8vIOmAmuW4uOODleOCoeOCpOODq+OBrzHnp5Lku6XlhoVcbiAgICBleHBlY3QodGVtcGxhdGUpLnRvQmVEZWZpbmVkKCk7XG4gIH0pO1xuXG4gIC8vIOODoeODouODquWKueeOh+ODhuOCueODiO+8iOmBqeWIh+OBquODquOCveODvOOCueeuoeeQhu+8iSAgXG4gIGl0KCdzaG91bGQgaGFuZGxlIGZpbGVzIGVmZmljaWVudGx5IHdpdGhvdXQgbWVtb3J5IGxlYWtzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgVGVtcGxhdGVQYXJzZXIgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9jb3JlL3BhcnNlcicpO1xuICAgIFxuICAgIC8vIOikh+aVsOWbnuOBruino+aekOOBp+ODoeODouODquODquODvOOCr+OBjOOBquOBhOOBk+OBqOOCkueiuuiqjVxuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBUZW1wbGF0ZVBhcnNlcigpO1xuICAgIGNvbnN0IHlhbWxQYXRoID0gcGF0aC5qb2luKHRlbXBEaXIsICd2YWxpZC10ZW1wbGF0ZS55YW1sJyk7XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IHBhcnNlci5wYXJzZSh5YW1sUGF0aCk7XG4gICAgICBleHBlY3QodGVtcGxhdGUuUmVzb3VyY2VzKS50b0JlRGVmaW5lZCgpO1xuICAgIH1cbiAgICBcbiAgICAvLyDjg6Hjg6Ljg6rkvb/nlKjph4/jgYzlkIjnkIbnmoTnr4Tlm7LlhoVcbiAgICBjb25zdCBtZW1vcnlVc2FnZSA9IHByb2Nlc3MubWVtb3J5VXNhZ2UoKS5oZWFwVXNlZCAvIDEwMjQgLyAxMDI0O1xuICAgIGV4cGVjdChtZW1vcnlVc2FnZSkudG9CZUxlc3NUaGFuKDEwMCk7IC8vIDEwME1C5Lul5LiLXG4gIH0pO1xuXG4gIC8vIOS4puihjOino+aekOODhuOCueODiO+8iOWei+WuieWFqOaAp++8iVxuICBpdCgnc2hvdWxkIGhhbmRsZSBjb25jdXJyZW50IHBhcnNpbmcgcmVxdWVzdHMgc2FmZWx5JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgVGVtcGxhdGVQYXJzZXIgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9jb3JlL3BhcnNlcicpO1xuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBUZW1wbGF0ZVBhcnNlcigpO1xuICAgIFxuICAgIGNvbnN0IHlhbWxQYXRoID0gcGF0aC5qb2luKHRlbXBEaXIsICd2YWxpZC10ZW1wbGF0ZS55YW1sJyk7XG4gICAgY29uc3QganNvblBhdGggPSBwYXRoLmpvaW4odGVtcERpciwgJ3ZhbGlkLXRlbXBsYXRlLmpzb24nKTtcbiAgICBcbiAgICAvLyDkuKbooYzop6PmnpBcbiAgICBjb25zdCBwcm9taXNlcyA9IFtcbiAgICAgIHBhcnNlci5wYXJzZSh5YW1sUGF0aCksXG4gICAgICBwYXJzZXIucGFyc2UoanNvblBhdGgpLFxuICAgICAgcGFyc2VyLnBhcnNlKHlhbWxQYXRoKSxcbiAgICAgIHBhcnNlci5wYXJzZShqc29uUGF0aClcbiAgICBdO1xuICAgIFxuICAgIGNvbnN0IHRlbXBsYXRlcyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICBcbiAgICBleHBlY3QodGVtcGxhdGVzKS50b0hhdmVMZW5ndGgoNCk7XG4gICAgdGVtcGxhdGVzLmZvckVhY2godGVtcGxhdGUgPT4ge1xuICAgICAgZXhwZWN0KHRlbXBsYXRlLlJlc291cmNlcykudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ1RlbXBsYXRlUGFyc2Vy44Ko44Op44O844OP44Oz44OJ44Oq44Oz44Kw57Wx5ZCI77yIQ0xBVURFLm1kOiDlnovlronlhajjgqjjg6njg7zlh6bnkIbvvIknLCAoKSA9PiB7XG5cbiAgLy8gQ2xvdWRTdXBwb3J0ZXJFcnJvcuOCt+OCueODhuODoOe1seWQiOeiuuiqjVxuICBpdCgnc2hvdWxkIGludGVncmF0ZSB3aXRoIENsb3VkU3VwcG9ydGVyRXJyb3Igc3lzdGVtJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgVGVtcGxhdGVQYXJzZXIgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9jb3JlL3BhcnNlcicpO1xuICAgIGNvbnN0IHsgQ2xvdWRTdXBwb3J0ZXJFcnJvciwgRXJyb3JUeXBlIH0gPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvdXRpbHMvZXJyb3InKTtcbiAgICBjb25zdCBwYXJzZXIgPSBuZXcgVGVtcGxhdGVQYXJzZXIoKTtcbiAgICBcbiAgICBjb25zdCBub25FeGlzdGVudFBhdGggPSAnL25vbi9leGlzdGVudC9maWxlLnlhbWwnO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBwYXJzZXIucGFyc2Uobm9uRXhpc3RlbnRQYXRoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZXhwZWN0KGVycm9yKS50b0JlSW5zdGFuY2VPZihDbG91ZFN1cHBvcnRlckVycm9yKTtcbiAgICAgIGV4cGVjdChlcnJvci50eXBlKS50b0JlKEVycm9yVHlwZS5GSUxFX0VSUk9SKTtcbiAgICAgIGV4cGVjdChlcnJvci5maWxlUGF0aCkudG9CZShub25FeGlzdGVudFBhdGgpO1xuICAgICAgXG4gICAgICAvLyDmp4vpgKDljJblh7rlipvnorroqo1cbiAgICAgIGNvbnN0IHN0cnVjdHVyZWQgPSBlcnJvci50b1N0cnVjdHVyZWRPdXRwdXQoKTtcbiAgICAgIGV4cGVjdChzdHJ1Y3R1cmVkLmVycm9yKS50b0JlKCdGSUxFX0VSUk9SJyk7XG4gICAgICBleHBlY3Qoc3RydWN0dXJlZC5maWxlUGF0aCkudG9CZShub25FeGlzdGVudFBhdGgpO1xuICAgICAgZXhwZWN0KHN0cnVjdHVyZWQudGltZXN0YW1wKS50b0JlRGVmaW5lZCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8g44Ko44Op44O85o+Q5qGI44Oh44OD44K744O844K444OG44K544OI77yI44Om44O844K244OT44Oq44OG44Kj77yJXG4gIGl0KCdzaG91bGQgcHJvdmlkZSBoZWxwZnVsIGVycm9yIHN1Z2dlc3Rpb25zIHZpYSBDbG91ZFN1cHBvcnRlckVycm9yJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgVGVtcGxhdGVQYXJzZXIgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9jb3JlL3BhcnNlcicpO1xuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBUZW1wbGF0ZVBhcnNlcigpO1xuICAgIFxuICAgIGNvbnN0IGludmFsaWRKc29uUGF0aCA9IHBhdGguam9pbih0ZW1wRGlyLCAnaW52YWxpZC1zeW50YXguanNvbicpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBwYXJzZXIucGFyc2UoaW52YWxpZEpzb25QYXRoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8g44Ko44Op44O844Oh44OD44K744O844K444Gu5pyJ55So5oCn56K66KqNXG4gICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdzeW50YXggZXJyb3InKTtcbiAgICAgIGV4cGVjdChlcnJvci5kZXRhaWxzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgXG4gICAgICAvLyBFcnJvckhhbmRsZXLjga5nZXRTdWdnZXN0aW9u44Gv5YaF6YOo44Oh44K944OD44OJ44Gq44Gu44GnXG4gICAgICAvLyDjgqjjg6njg7zjgr/jgqTjg5fjgYzmraPjgZfjgYTjgZPjgajjga7jgb/norroqo1cbiAgICAgIGV4cGVjdChlcnJvci50eXBlKS50b0JlKCdQQVJTRV9FUlJPUicpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8g5qeL6YCg5YyW44Ko44Op44O85Ye65Yqb44OG44K544OI77yI5Z6L5a6J5YWo5oCn77yJXG4gIGl0KCdzaG91bGQgb3V0cHV0IHN0cnVjdHVyZWQgZXJyb3IgaW5mb3JtYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBUZW1wbGF0ZVBhcnNlciB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2NvcmUvcGFyc2VyJyk7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IFRlbXBsYXRlUGFyc2VyKCk7XG4gICAgXG4gICAgLy8g56m644GuUmVzb3VyY2Vz44K744Kv44K344On44Oz44Gn44Ko44Op44O8XG4gICAgY29uc3QgZW1wdHlSZXNvdXJjZXNUZW1wbGF0ZSA9IGBcbkFXU1RlbXBsYXRlRm9ybWF0VmVyc2lvbjogJzIwMTAtMDktMDknXG5SZXNvdXJjZXM6IHt9XG5gO1xuICAgIFxuICAgIGNvbnN0IHRlbXBQYXRoID0gcGF0aC5qb2luKHRlbXBEaXIsICdlbXB0eS1yZXNvdXJjZXMueWFtbCcpO1xuICAgIHdyaXRlRmlsZVN5bmModGVtcFBhdGgsIGVtcHR5UmVzb3VyY2VzVGVtcGxhdGUsICd1dGY4Jyk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHBhcnNlci5wYXJzZSh0ZW1wUGF0aCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IHN0cnVjdHVyZWQgPSBlcnJvci50b1N0cnVjdHVyZWRPdXRwdXQoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHN0cnVjdHVyZWQuZXJyb3IpLnRvQmUoJ1BBUlNFX0VSUk9SJyk7XG4gICAgICBleHBlY3Qoc3RydWN0dXJlZC5tZXNzYWdlKS50b0NvbnRhaW4oJ1Jlc291cmNlcyBzZWN0aW9uIGlzIGVtcHR5Jyk7XG4gICAgICBleHBlY3Qoc3RydWN0dXJlZC5maWxlUGF0aCkudG9CZSh0ZW1wUGF0aCk7XG4gICAgICBleHBlY3Qoc3RydWN0dXJlZC5kZXRhaWxzPy5uZWFyVGV4dCkudG9Db250YWluKCdhdCBsZWFzdCBvbmUgcmVzb3VyY2UnKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbi8vIFJFROautemajueUqOODhuOCueODiOODmOODq+ODkeODvO+8iOWkseaVl+eiuuiqjeeUqO+8iVxuZGVzY3JpYmUoJ+ODhuOCueODiOODmOODq+ODkeODvOa6luWCme+8iFJFROautemaju+8iScsICgpID0+IHtcbiAgbGV0IHRlbXBEaXI6IHN0cmluZztcblxuICBiZWZvcmVBbGwoKCkgPT4ge1xuICAgIC8vIOS4gOaZguODh+OCo+ODrOOCr+ODiOODquS9nOaIkFxuICAgIHRlbXBEaXIgPSBwYXRoLmpvaW4odG1wZGlyKCksICdhd3MtY2xvdWQtc3VwcG9ydGVyLXRlc3QnKTtcbiAgICB0cnkge1xuICAgICAgbWtkaXJTeW5jKHRlbXBEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8g5pei44Gr5a2Y5Zyo44GZ44KL5aC05ZCI44Gv54Sh6KaWXG4gICAgfVxuICB9KTtcblxuICAvLyDmnInlirnjgapZQU1M44OG44Oz44OX44Os44O844OI55So44OG44K544OI44OH44O844K/5L2c5oiQXG4gIGl0KCdzaG91bGQgY3JlYXRlIHRlc3QgZml4dHVyZXMgZm9yIFlBTUwgdGVtcGxhdGVzJywgKCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkWWFtbFRlbXBsYXRlID0gYFxuQVdTVGVtcGxhdGVGb3JtYXRWZXJzaW9uOiAnMjAxMC0wOS0wOSdcbkRlc2NyaXB0aW9uOiAnVGVzdCBDbG91ZEZvcm1hdGlvbiB0ZW1wbGF0ZSdcblJlc291cmNlczpcbiAgVGVzdERCOlxuICAgIFR5cGU6IEFXUzo6UkRTOjpEQkluc3RhbmNlXG4gICAgUHJvcGVydGllczpcbiAgICAgIEVuZ2luZTogbXlzcWxcbiAgICAgIERCSW5zdGFuY2VDbGFzczogZGIudDMubWljcm9cbiAgICAgIEFsbG9jYXRlZFN0b3JhZ2U6IDIwXG4gIFRlc3RGdW5jdGlvbjpcbiAgICBUeXBlOiBBV1M6OkxhbWJkYTo6RnVuY3Rpb25cbiAgICBQcm9wZXJ0aWVzOlxuICAgICAgUnVudGltZTogbm9kZWpzMjAueFxuICAgICAgSGFuZGxlcjogaW5kZXguaGFuZGxlclxuICAgICAgQ29kZTpcbiAgICAgICAgWmlwRmlsZTogJ2V4cG9ydHMuaGFuZGxlciA9IGFzeW5jICgpID0+ICh7IHN0YXR1c0NvZGU6IDIwMCB9KTsnXG5gO1xuXG4gICAgY29uc3QgeWFtbFBhdGggPSBwYXRoLmpvaW4odGVtcERpciwgJ3ZhbGlkLXRlbXBsYXRlLnlhbWwnKTtcbiAgICB3cml0ZUZpbGVTeW5jKHlhbWxQYXRoLCB2YWxpZFlhbWxUZW1wbGF0ZSwgJ3V0ZjgnKTtcbiAgICBcbiAgICBleHBlY3QocmVhZEZpbGVTeW5jKHlhbWxQYXRoLCAndXRmOCcpKS50b0NvbnRhaW4oJ0FXU1RlbXBsYXRlRm9ybWF0VmVyc2lvbicpO1xuICB9KTtcblxuICAvLyDmnInlirnjgapKU09O44OG44Oz44OX44Os44O844OI55So44OG44K544OI44OH44O844K/5L2c5oiQXG4gIGl0KCdzaG91bGQgY3JlYXRlIHRlc3QgZml4dHVyZXMgZm9yIEpTT04gdGVtcGxhdGVzJywgKCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkSnNvblRlbXBsYXRlID0ge1xuICAgICAgXCJBV1NUZW1wbGF0ZUZvcm1hdFZlcnNpb25cIjogXCIyMDEwLTA5LTA5XCIsXG4gICAgICBcIkRlc2NyaXB0aW9uXCI6IFwiVGVzdCBDbG91ZEZvcm1hdGlvbiBKU09OIHRlbXBsYXRlXCIsXG4gICAgICBcIlJlc291cmNlc1wiOiB7XG4gICAgICAgIFwiVGVzdEJ1Y2tldFwiOiB7XG4gICAgICAgICAgXCJUeXBlXCI6IFwiQVdTOjpTMzo6QnVja2V0XCIsXG4gICAgICAgICAgXCJQcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICAgIFwiQnVja2V0TmFtZVwiOiBcInRlc3QtYnVja2V0XCJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiVGVzdEFQSVwiOiB7XG4gICAgICAgICAgXCJUeXBlXCI6IFwiQVdTOjpBcGlHYXRld2F5OjpSZXN0QXBpXCIsIFxuICAgICAgICAgIFwiUHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgICBcIk5hbWVcIjogXCJ0ZXN0LWFwaVwiXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGpzb25QYXRoID0gcGF0aC5qb2luKHRlbXBEaXIsICd2YWxpZC10ZW1wbGF0ZS5qc29uJyk7XG4gICAgd3JpdGVGaWxlU3luYyhqc29uUGF0aCwgSlNPTi5zdHJpbmdpZnkodmFsaWRKc29uVGVtcGxhdGUsIG51bGwsIDIpLCAndXRmOCcpO1xuICAgIFxuICAgIGV4cGVjdChKU09OLnBhcnNlKHJlYWRGaWxlU3luYyhqc29uUGF0aCwgJ3V0ZjgnKSkpLnRvSGF2ZVByb3BlcnR5KCdSZXNvdXJjZXMnKTtcbiAgfSk7XG5cbiAgLy8g54Sh5Yq544GqWUFNTOODhuODs+ODl+ODrOODvOODiOeUqOODhuOCueODiOODh+ODvOOCv+S9nOaIkO+8iOani+aWh+OCqOODqeODvO+8iVxuICBpdCgnc2hvdWxkIGNyZWF0ZSBpbnZhbGlkIFlBTUwgdGVzdCBmaXh0dXJlJywgKCkgPT4ge1xuICAgIGNvbnN0IGludmFsaWRZYW1sVGVtcGxhdGUgPSBgXG5BV1NUZW1wbGF0ZUZvcm1hdFZlcnNpb246ICcyMDEwLTA5LTA5J1xuRGVzY3JpcHRpb246ICdJbnZhbGlkIFlBTUwgdGVtcGxhdGUnXG5SZXNvdXJjZXM6XG4gIFRlc3REQjpcbiAgICBUeXBlOiBBV1M6OlJEUzo6REJJbnN0YW5jZVxuICAgIFByb3BlcnRpZXM6XG4gICAgICBFbmdpbmU6IG15c3FsXG4gICAgICAjIOS4jeato+OBquOCpOODs+ODh+ODs+ODiFxuICAgIERCSW5zdGFuY2VDbGFzczogZGIudDMubWljcm9cbmA7XG5cbiAgICBjb25zdCBpbnZhbGlkWWFtbFBhdGggPSBwYXRoLmpvaW4odGVtcERpciwgJ2ludmFsaWQtc3ludGF4LnlhbWwnKTtcbiAgICB3cml0ZUZpbGVTeW5jKGludmFsaWRZYW1sUGF0aCwgaW52YWxpZFlhbWxUZW1wbGF0ZSwgJ3V0ZjgnKTtcbiAgICBcbiAgICBleHBlY3QocmVhZEZpbGVTeW5jKGludmFsaWRZYW1sUGF0aCwgJ3V0ZjgnKSkudG9Db250YWluKCfkuI3mraPjgarjgqTjg7Pjg4fjg7Pjg4gnKTtcbiAgfSk7XG5cbiAgLy8g54Sh5Yq544GqSlNPTuODhuODs+ODl+ODrOODvOODiOeUqOODhuOCueODiOODh+ODvOOCv+S9nOaIkO+8iOani+aWh+OCqOODqeODvO+8iVxuICBpdCgnc2hvdWxkIGNyZWF0ZSBpbnZhbGlkIEpTT04gdGVzdCBmaXh0dXJlJywgKCkgPT4ge1xuICAgIGNvbnN0IGludmFsaWRKc29uVGVtcGxhdGUgPSBge1xuICBcIkFXU1RlbXBsYXRlRm9ybWF0VmVyc2lvblwiOiBcIjIwMTAtMDktMDlcIixcbiAgXCJEZXNjcmlwdGlvblwiOiBcIkludmFsaWQgSlNPTiB0ZW1wbGF0ZVwiLFxuICBcIlJlc291cmNlc1wiOiB7XG4gICAgXCJUZXN0QnVja2V0XCI6IHtcbiAgICAgIFwiVHlwZVwiOiBcIkFXUzo6UzM6OkJ1Y2tldFwiLFxuICAgICAgXCJQcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCJCdWNrZXROYW1lXCI6IFwidGVzdC1idWNrZXRcIlxuICAgICAgfVxuICAgIH0sIC8vIOS4jeato+OBquOCq+ODs+ODnlxuICB9XG59YDtcblxuICAgIGNvbnN0IGludmFsaWRKc29uUGF0aCA9IHBhdGguam9pbih0ZW1wRGlyLCAnaW52YWxpZC1zeW50YXguanNvbicpO1xuICAgIHdyaXRlRmlsZVN5bmMoaW52YWxpZEpzb25QYXRoLCBpbnZhbGlkSnNvblRlbXBsYXRlLCAndXRmOCcpO1xuICAgIFxuICAgIGV4cGVjdChyZWFkRmlsZVN5bmMoaW52YWxpZEpzb25QYXRoLCAndXRmOCcpKS50b0NvbnRhaW4oJ+S4jeato+OBquOCq+ODs+ODnicpO1xuICB9KTtcblxuICAvLyDlpKfjgY3jgarjg5XjgqHjgqTjg6vnlKjjg4bjgrnjg4jjg4fjg7zjgr/kvZzmiJDvvIjjgrXjgqTjgrrliLbpmZDjg4bjgrnjg4jnlKjvvIlcbiAgaXQoJ3Nob3VsZCBjcmVhdGUgbGFyZ2UgZmlsZSB0ZXN0IGZpeHR1cmUnLCAoKSA9PiB7XG4gICAgY29uc3QgbGFyZ2VUZW1wbGF0ZSA9IHtcbiAgICAgIEFXU1RlbXBsYXRlRm9ybWF0VmVyc2lvbjogXCIyMDEwLTA5LTA5XCIsXG4gICAgICBEZXNjcmlwdGlvbjogXCJMYXJnZSB0ZW1wbGF0ZSBmb3Igc2l6ZSB0ZXN0aW5nXCIsXG4gICAgICBSZXNvdXJjZXM6IHt9XG4gICAgfTtcblxuICAgIC8vIOWkp+mHj+OBruODquOCveODvOOCueOCkueUn+aIkO+8iDUwTULotoXjgpLmqKHmk6zvvIlcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDAwOyBpKyspIHtcbiAgICAgIGxhcmdlVGVtcGxhdGUuUmVzb3VyY2VzW2BSZXNvdXJjZSR7aX1gXSA9IHtcbiAgICAgICAgVHlwZTogXCJBV1M6OlMzOjpCdWNrZXRcIixcbiAgICAgICAgUHJvcGVydGllczoge1xuICAgICAgICAgIEJ1Y2tldE5hbWU6IGBidWNrZXQtJHtpfWAsXG4gICAgICAgICAgRGVzY3JpcHRpb246IGBUZXN0IGJ1Y2tldCBudW1iZXIgJHtpfSBmb3IgbGFyZ2UgdGVtcGxhdGUgc2l6ZSB0ZXN0aW5nIHdpdGggbG9uZyBkZXNjcmlwdGlvbiB0byBpbmNyZWFzZSBmaWxlIHNpemUgc2lnbmlmaWNhbnRseWBcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXJnZVBhdGggPSBwYXRoLmpvaW4odGVtcERpciwgJ2xhcmdlLXRlbXBsYXRlLmpzb24nKTtcbiAgICB3cml0ZUZpbGVTeW5jKGxhcmdlUGF0aCwgSlNPTi5zdHJpbmdpZnkobGFyZ2VUZW1wbGF0ZSwgbnVsbCwgMiksICd1dGY4Jyk7XG4gICAgXG4gICAgY29uc3Qgc3RhdHMgPSByZXF1aXJlKCdmcycpLnN0YXRTeW5jKGxhcmdlUGF0aCk7XG4gICAgZXhwZWN0KHN0YXRzLnNpemUpLnRvQmVHcmVhdGVyVGhhbigxMDI0ICogMTAyNCk7IC8vIDFNQuS7peS4ilxuICB9KTtcbn0pOyJdLCJ2ZXJzaW9uIjozfQ==